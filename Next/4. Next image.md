## next/image

Next.js의 `next/image` 컴포넌트는 웹 애플리케이션에서 이미지를 최적화하고 성능을 향상시키는 데 사용되는 강력한 도구입니다.

이 컴포넌트는 단순히 이미지를 표시하는 것을 넘어, 빌드 시 또는 요청 시 이미지 크기 최적화, 지연 로딩, 반응형 이미지 제공 등의 기능을 자동으로 처리해줍니다.

- **자동 이미지 최적화**:

  - **크기 최적화**: 이미지 요청 시 기기별, 뷰포트별로 적절한 크기의 이미지를 자동으로 제공합니다.

  - **형식 최적화**: WebP와 같은 최신 이미지 형식을 지원하여 파일 크기를 줄이고 로딩 속도를 높입니다.

  - **품질 최적화**: 이미지 품질을 유지하면서 파일 크기를 최소화합니다.

- **지연 로딩 (Lazy Loading)**:

  - 기본적으로 `loading="lazy"` 속성이 적용되어, 뷰포트 내에 들어올 때만 이미지를 로드하여 초기 페이지 로딩 속도를 향상시킵니다.

- **반응형 이미지**:

  - `srcset` 속성을 자동으로 생성하여 다양한 화면 크기와 해상도에 최적화된 이미지를 제공합니다.

- **CLS(Cumulative Layout Shift) 방지**:

  - **CLS란?**:

  - CLS는 웹 페이지의 시각적 안정성을 측정하는 핵심 웹 바이탈(Core Web Vitals) 지표 중 하나입니다. 페이지 콘텐츠가 예상치 못하게 움직여 사용자 경험을 저해하는 현상을 말합니다.

  - 예를 들어, 이미지가 늦게 로드되면서 이미지가 들어갈 공간이 확보되지 않아 기존 텍스트나 버튼 등의 요소들이 갑자기 아래로 밀려나는 경우가 대표적입니다.

  - **왜 방지해야 하는가?**:

  - CLS는 사용자에게 불편함을 주고, 의도치 않은 클릭을 유발할 수 있습니다. 예를 들어, 사용자가 버튼을 클릭하려는데 이미지가 로드되면서 버튼이 움직여 엉뚱한 곳을 클릭하게 만들 수 있습니다. 이는 웹사이트의 사용자 경험을 심각하게 저하시키며, Google 검색 순위에도 부정적인 영향을 미칠 수 있습니다 (핵심 웹 바이탈 지표에 포함).

  - `next/image`는 `width`, `height` 또는 `fill` 속성을 통해 이미지 로드 중 레이아웃이 밀리는 현상(CLS)을 효과적으로 방지합니다.

## 기본 사용법

`next/image` 컴포넌트는 `src`, `alt` 속성이 필수입니다. 이미지의 `width`와 `height`도 명시적으로 지정하여 레이아웃 시프트(CLS)를 방지하는 것이 좋습니다.

```jsx
function MyComponent() {
  return (
    <div>
      <Image src={myImage} alt="내 이미지 설명" width={500} height={300} />
    </div>
  );
}

export default MyComponent;
```

## 주요 Props

`next/image` 컴포넌트의 주요 props는 다음과 같습니다.

- `src` (필수): 이미지 파일의 경로 또는 외부 이미지의 URL. 로컬 이미지는 정적으로 import해야 합니다.
- `alt` (필수): 이미지에 대한 대체 텍스트. SEO 및 웹 접근성을 위해 중요합니다.
- `width`, `height` (필수, `fill` 사용 시 선택 사항): 이미지의 렌더링 너비와 높이를 명시합니다. CLS를 방지하는 데 도움이 됩니다.
- `fill`: 부모 요소에 맞춰 이미지를 채우도록 설정합니다. `width`와 `height`를 설정하지 않고도 CLS를 방지할 수 있습니다.
  ```jsx
  <div style={{ position: "relative", width: "300px", height: "200px" }}>
    <Image
      src="/path/to/image.jpg"
      alt="Fill Image"
      fill // 부모 요소에 맞춰 이미지 크기 조절
      style={{ objectFit: "cover" }} // CSS object-fit 속성과 유사
    />
  </div>
  ```
- `sizes`: 이미지의 뷰포트 크기 및 미디어 쿼리를 나타내는 문자열. `srcset`에 사용될 이미지 소스 크기를 결정합니다. (예: `"(max-width: 768px) 100vw, 50vw"`)
- `quality`: 이미지 품질 (1-100, 기본값 75).
- `priority`: `true`로 설정하면 이미지를 즉시 로드하고 페이지의 가장 중요한 이미지로 간주합니다. (LCP(Largest Contentful Paint) 개선에 유리)
- `loading`: 이미지 로딩 전략. `lazy` (기본값) 또는 `eager`.
- `placeholder`: 이미지 로딩 중 표시될 플레이스홀더. `empty` (기본값) 또는 `blur` (원본 이미지의 작은 블러 처리된 버전). `blurDataURL`과 함께 사용됩니다.
- `blurDataURL`: `placeholder="blur"` 사용 시 표시될 블러 처리된 이미지의 Data URL.
- `style`: 인라인 CSS 스타일을 적용합니다.
- `className`: CSS 클래스를 적용합니다.

