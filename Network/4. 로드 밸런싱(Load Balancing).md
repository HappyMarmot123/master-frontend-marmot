# 로드 밸런싱(Load Balancing)

## 1. 로드 밸런싱이란?

로드 밸런싱은 여러 대의 서버에 네트워크 트래픽(요청)을 효율적으로 **분산**시키는 기술입니다. 이를 통해 특정 서버에 과부하가 걸리는 것을 방지하고, 전체 시스템의 성능, 안정성, 가용성을 향상시킵니다.

## 2. 작동 방식

클라이언트의 요청은 먼저 **로드 밸런서**로 들어옵니다. 로드 밸런서는 다음과 같은 과정을 통해 트래픽을 분산합니다.

1.  **헬스 체크 (Health Check)**: 로드 밸런서는 주기적으로 백엔드 서버의 상태를 확인하여, 정상적으로 작동하는 서버에만 요청을 전달합니다. 이를 통해 장애가 발생한 서버는 트래픽 분산 대상에서 제외하여 서비스의 안정성을 높입니다.
2.  **트래픽 분산**: 미리 설정된 알고리즘에 따라 요청을 가장 적합한 백엔드 서버(Web Server, WAS 등)에 전달합니다.

## 3. 로드 밸런싱 알고리즘

로드 밸런싱에는 다음과 같은 다양한 알고리즘이 사용됩니다.

- **라운드 로빈 (Round Robin)**: 서버에 들어오는 요청을 순서대로 돌아가면서 할당합니다. 가장 간단하고 공평한 방식입니다.
- **가중치 라운드 로빈 (Weighted Round Robin)**: 각 서버의 처리 능력을 고려하여 가중치를 부여합니다. 성능이 좋은 서버에 더 많은 요청을 보냅니다.
- **최소 연결 (Least Connection)**: 현재 가장 적은 수의 활성 연결을 가진 서버로 요청을 보냅니다. 서버의 현재 부하 상태를 실시간으로 반영하는 방식입니다.
- **IP 해시 (IP Hash)**: 클라이언트의 IP 주소를 해시 함수에 넣어 얻은 값으로 서버를 선택합니다. 동일한 클라이언트는 항상 같은 서버로 연결되므로, 세션 유지가 중요한 서비스에 유용합니다.

## 4. 로드 밸런싱 사용 예시

로드 밸런싱은 대규모 트래픽을 처리하는 거의 모든 웹 서비스에서 핵심적인 역할을 합니다.

- **대규모 웹사이트 및 애플리케이션**: Google, Amazon, Netflix와 같은 대규모 서비스들은 수많은 서버에 걸쳐 사용자 요청을 분산하여 빠르고 안정적인 서비스를 제공합니다.
- **클라우드 서비스**: AWS (Elastic Load Balancing), Google Cloud (Cloud Load Balancing), Azure (Load Balancer)와 같은 클라우드 플랫폼은 로드 밸런싱 서비스를 기본적으로 제공하여 사용자가 쉽게 확장 가능한 시스템을 구축할 수 있도록 돕습니다.
- **데이터베이스 시스템**: 데이터베이스의 읽기(Read) 작업을 여러 복제 서버로 분산하여 데이터베이스의 부하를 줄이고 성능을 향상시킵니다.

## 5. 가용성(Availability)과의 관계

**가용성(Availability)**은 시스템이나 서비스가 사용자가 필요로 할 때 **정상적으로 작동하는 정도**를 의미합니다. 즉, 시스템이 장애 없이 지속적으로 운영될 수 있는 능력을 나타내는 지표입니다.

로드 밸런싱은 여러 서버 중 하나에 장애가 발생하더라도 다른 정상 서버로 트래픽을 자동 전환하여 서비스 중단을 방지하므로, 시스템 전체의 가용성을 높이는 핵심 기술입니다. 가용성을 높이기 위한 다른 기술로는 **페일오버(Failover)**, **이중화(Redundancy)** 등이 있습니다.
