# Access & Refresh Token

## 📖 개요

**Access Token과 Refresh Token**은 JWT 기반 인증 시스템에서 보안과 사용자 경험을 모두 고려한 이중 토큰 구조입니다. Access Token은 API 요청 시 사용자의 인증을 확인하는 단기 토큰이고, Refresh Token은 Access Token을 갱신하는 장기 토큰입니다.

**Access & Refresh Token이 중요한 이유:**

- **보안 강화**: Access Token의 짧은 수명으로 토큰 탈취 시 피해 최소화
- **사용자 경험**: 자동 토큰 갱신으로 사용자가 반복 로그인할 필요 없음
- **토큰 무효화**: Refresh Token을 통해 특정 사용자의 모든 세션을 즉시 종료 가능
- **확장성**: 마이크로서비스 환경에서 효율적인 인증 관리

## 🏗️ 토큰 구조와 동작 원리

### 1. **토큰의 역할과 특징**

**Access Token:**

- **용도**: API 요청 시 인증 및 권한 확인
- **수명**: 짧음 (15분 ~ 1시간)
- **저장 위치**: 메모리 또는 안전한 클라이언트 저장소
- **보안 수준**: 높음 (자주 교체)

**Refresh Token:**

- **용도**: Access Token 갱신
- **수명**: 김 (7일 ~ 30일)
- **저장 위치**: HttpOnly 쿠키 또는 안전한 서버 저장소
- **보안 수준**: 매우 높음 (안전한 저장소 사용)

### 2. **토큰 플로우**

```
1. 사용자 로그인
   ↓
2. Access Token + Refresh Token 발급
   ↓
3. API 요청 시 Access Token 사용
   ↓
4. Access Token 만료 시 Refresh Token으로 갱신
   ↓
5. 새로운 Access Token 발급
   ↓
6. Refresh Token 만료 시 재로그인 필요
```

## 🎯 결론

Access Token과 Refresh Token의 이중 구조는 현대적인 웹 애플리케이션에서 보안과 사용자 경험을 모두 만족시키는 효과적인 인증 방식입니다.

**성공적인 구현을 위한 핵심 요소:**

1. **적절한 토큰 수명**: 보안 요구사항과 사용자 경험의 균형
2. **안전한 토큰 저장**: HttpOnly 쿠키와 메모리 저장의 적절한 조합
3. **자동 토큰 갱신**: 사용자 개입 없이 원활한 인증 유지
4. **토큰 무효화**: 보안 사고 시 즉시 모든 세션 종료 가능
5. **정기적 보안 검토**: 토큰 구조와 보안 정책의 지속적 개선

이러한 토큰 시스템을 통해 개발자는 안전하고 사용자 친화적인 인증 시스템을 구축할 수 있으며, 이는 웹 애플리케이션의 전반적인 보안 수준을 크게 향상시킵니다.
