# JWT (JSON Web Token)

## π“– κ°μ”

**JWT (JSON Web Token)**λ” λ‹Ήμ‚¬μ κ°„μ— μ •λ³΄λ¥Ό JSON κ°μ²΄λ΅ μ•μ „ν•κ² μ „μ†΅ν•κΈ° μ„ν• μ»΄ν©νΈν•κ³  λ…λ¦½μ μΈ λ°©λ²•μ„ μ •μν• κ°λ°©ν• ν‘μ¤€(RFC 7519)μ…λ‹λ‹¤. JWTλ” μΈμ¦, μ •λ³΄ κµν™, μ„Έμ… κ΄€λ¦¬ λ“± λ‹¤μ–‘ν• μ©λ„λ΅ μ‚¬μ©λλ©°, νΉν RESTful APIμ—μ„ ν† ν° κΈ°λ° μΈμ¦μ ν‘μ¤€μΌλ΅ μλ¦¬μ΅κ³  μμµλ‹λ‹¤.

**JWTκ°€ ν„λ€ μ›Ή κ°λ°μ—μ„ μ¤‘μ”ν• μ΄μ :**

- **λ¬΄μƒνƒμ„±**: μ„λ²„κ°€ μ‚¬μ©μ μ„Έμ…μ„ μ €μ¥ν•  ν•„μ”κ°€ μ—†μ–΄ ν™•μ¥μ„±μ΄ λ›°μ–΄λ‚©λ‹λ‹¤
- **ν‘μ¤€ν™”**: RFC 7519λ΅ ν‘μ¤€ν™”λμ–΄ λ‹¤μ–‘ν• μ–Έμ–΄μ™€ ν”λ«νΌμ—μ„ μ§€μ›λ©λ‹λ‹¤
- **ν¨μ¨μ„±**: HTTP ν—¤λ”λ‚ URL νλΌλ―Έν„°λ΅ μ‰½κ² μ „μ†΅ν•  μ μμµλ‹λ‹¤
- **μμ²΄ ν¬ν•¨**: ν•„μ”ν• λ¨λ“  μ •λ³΄(μ•κ³ λ¦¬μ¦, λ°κΈ‰/λ§λ£ μ‹κ°„ λ“±)κ°€ ν† ν° λ‚΄λ¶€μ— ν¬ν•¨λμ–΄ μμ–΄ λ³„λ„ μ΅°νκ°€ λ¶ν•„μ”ν•©λ‹λ‹¤.

## π” JWT μ„λ… μ•κ³ λ¦¬μ¦

### λ€μΉ­ν‚¤ (Symmetric Key) π”‘

μ•”νΈν™”μ™€ λ³µνΈν™”μ— **λ™μΌν• ν‚¤ ν•λ‚**λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. μ—΄μ‡  ν•λ‚λ΅ λ¬Έμ„ μ κ·Έκ³  μ—¬λ” κ²ƒμ— λΉ„μ ν•  μ μμµλ‹λ‹¤. μ†΅μ‹ μμ™€ μμ‹ μκ°€ μ‚¬μ „μ— κ³µμ λ λΉ„λ°€ ν‚¤λ¥Ό κ°€μ§€κ³  μμ–΄μ•Ό ν•©λ‹λ‹¤. μ†΅μ‹ μλ” μ΄ ν‚¤λ΅ ν‰λ¬Έ(μ›λ³Έ λ°μ΄ν„°)μ„ μ•”νΈν™”ν•κ³ , μμ‹ μλ” κ°™μ€ ν‚¤λ΅ μ•”νΈλ¬Έμ„ λ³µνΈν™”ν•μ—¬ ν‰λ¬Έμ„ μ–»μµλ‹λ‹¤. ν‚¤μ κΈΈμ΄κ°€ μ§§μ•„ μ•”νΈν™”/λ³µνΈν™” μ†λ„κ°€ λ§¤μ° λΉ λ¥΄κ³  ν¨μ¨μ μΌλ΅ λ€μ©λ‰ λ°μ΄ν„° μ•”νΈν™”μ— μ ν•©ν•©λ‹λ‹¤.

### λΉ„λ€μΉ­ν‚¤ (Asymmetric Key) π—οΈ

μ•”νΈν™”μ™€ λ³µνΈν™”μ— μ„λ΅ λ‹¤λ¥Έ ν‚¤ λ‘ κ°(κ³µκ°ν‚¤μ™€ κ°μΈν‚¤)λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. λ„κµ¬λ‚ κ°€μ§ μ μλ” κ³µκ°ν‚¤λ” μ£Όλ΅ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤. κ°μΈν‚¤λ” ν‚¤ μμ μ†μ μλ§ κ°€μ§€λ” λΉ„λ°€ ν‚¤λ΅, κ³µκ°ν‚¤λ΅ μ•”νΈν™”λ λ°μ΄ν„°λ¥Ό λ³µνΈν™”ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤. κ·Έλμ„ λ³΄μ•μ μΌλ΅λ” λ€μΉ­ν‚¤λ³΄λ‹¤ λ›°μ–΄λ‚μ§€λ§ ν‚¤μ κΈΈμ΄κ°€ κΈΈμ–΄ μ•”νΈν™”/λ³µνΈν™” μ†λ„κ°€ λ§¤μ° λλ¦½λ‹λ‹¤.

### 1. **HMAC (λ€μΉ­ν‚¤ μ•”νΈν™”)**

- **HS256**: HMAC SHA-256
- **HS384**: HMAC SHA-384
- **HS512**: HMAC SHA-512

**μ‚¬μ© μμ‹:**

```javascript
const jwt = require("jsonwebtoken");

// ν† ν° μƒμ„±
const token = jwt.sign({ userId: 123, role: "user" }, "your-secret-key", {
  algorithm: "HS256",
  expiresIn: "1h",
});

// ν† ν° κ²€μ¦
const decoded = jwt.verify(token, "your-secret-key");
```

### 2. **RSA (λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”)**

- **RS256**: RSA SHA-256
- **RS384**: RSA SHA-384
- **RS512**: RSA SHA-512

**μ‚¬μ© μμ‹:**

```javascript
const jwt = require("jsonwebtoken");
const fs = require("fs");

// κ°μΈν‚¤μ™€ κ³µκ°ν‚¤ λ΅λ“
const privateKey = fs.readFileSync("private.key");
const publicKey = fs.readFileSync("public.key");

// ν† ν° μƒμ„± (κ°μΈν‚¤ μ‚¬μ©)
const token = jwt.sign({ userId: 123, role: "user" }, privateKey, {
  algorithm: "RS256",
  expiresIn: "1h",
});

// ν† ν° κ²€μ¦ (κ³µκ°ν‚¤ μ‚¬μ©)
const decoded = jwt.verify(token, publicKey);
```
