# JWT (JSON Web Token)

## 📖 개요

**JWT (JSON Web Token)**는 당사자 간에 정보를 JSON 객체로 안전하게 전송하기 위한 컴팩트하고 독립적인 방법을 정의한 개방형 표준(RFC 7519)입니다. JWT는 인증, 정보 교환, 세션 관리 등 다양한 용도로 사용되며, 특히 RESTful API에서 토큰 기반 인증의 표준으로 자리잡고 있습니다.

**JWT가 현대 웹 개발에서 중요한 이유:**

- **무상태성**: 서버가 사용자 세션을 저장할 필요가 없어 확장성이 뛰어납니다
- **표준화**: RFC 7519로 표준화되어 다양한 언어와 플랫폼에서 지원됩니다
- **효율성**: HTTP 헤더나 URL 파라미터로 쉽게 전송할 수 있습니다
- **자체 포함**: 필요한 모든 정보(알고리즘, 발급/만료 시간 등)가 토큰 내부에 포함되어 있어 별도 조회가 불필요합니다.

## 🔐 JWT 서명 알고리즘

### 대칭키 (Symmetric Key) 🔑

암호화와 복호화에 **동일한 키 하나**를 사용합니다. 열쇠 하나로 문을 잠그고 여는 것에 비유할 수 있습니다. 송신자와 수신자가 사전에 공유된 비밀 키를 가지고 있어야 합니다. 송신자는 이 키로 평문(원본 데이터)을 암호화하고, 수신자는 같은 키로 암호문을 복호화하여 평문을 얻습니다. 키의 길이가 짧아 암호화/복호화 속도가 매우 빠르고 효율적으로 대용량 데이터 암호화에 적합합니다.

### 비대칭키 (Asymmetric Key) 🗝️

암호화와 복호화에 서로 다른 키 두 개(공개키와 개인키)를 사용합니다. 누구나 가질 수 있는 공개키는 주로 데이터를 암호화하는 데 사용됩니다. 개인키는 키 쌍의 소유자만 가지는 비밀 키로, 공개키로 암호화된 데이터를 복호화하는 데 사용됩니다. 그래서 보안적으로는 대칭키보다 뛰어나지만 키의 길이가 길어 암호화/복호화 속도가 매우 느립니다.

### 1. **HMAC (대칭키 암호화)**

- **HS256**: HMAC SHA-256
- **HS384**: HMAC SHA-384
- **HS512**: HMAC SHA-512

**사용 예시:**

```javascript
const jwt = require("jsonwebtoken");

// 토큰 생성
const token = jwt.sign({ userId: 123, role: "user" }, "your-secret-key", {
  algorithm: "HS256",
  expiresIn: "1h",
});

// 토큰 검증
const decoded = jwt.verify(token, "your-secret-key");
```

### 2. **RSA (비대칭키 암호화)**

- **RS256**: RSA SHA-256
- **RS384**: RSA SHA-384
- **RS512**: RSA SHA-512

**사용 예시:**

```javascript
const jwt = require("jsonwebtoken");
const fs = require("fs");

// 개인키와 공개키 로드
const privateKey = fs.readFileSync("private.key");
const publicKey = fs.readFileSync("public.key");

// 토큰 생성 (개인키 사용)
const token = jwt.sign({ userId: 123, role: "user" }, privateKey, {
  algorithm: "RS256",
  expiresIn: "1h",
});

// 토큰 검증 (공개키 사용)
const decoded = jwt.verify(token, publicKey);
```
