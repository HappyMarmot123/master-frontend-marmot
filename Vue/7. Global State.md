# Vue ê³µì‹ ì „ì—­ ìƒíƒœ ê´€ë¦¬ - Pinia

## ğŸ“– ê°œìš”

**Pinia**ëŠ” Vuexì˜ ë‹¨ì ì„ ê°œì„ í•˜ê³  Vue 3ì˜ Composition APIì— ìµœì í™”ë˜ì–´ ê°œë°œëœ Vue ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê³µì‹ ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. PiniaëŠ” ë‹¤ìŒê³¼ ê°™ì€ ëª…í™•í•œ ì´ì ì„ ì œê³µí•©ë‹ˆë‹¤.

- **ë‹¨ìˆœí™”ëœ êµ¬ì¡° (Mutations ì œê±°)**: VuexëŠ” ìƒíƒœ ë³€ê²½ì„ ìœ„í•´ `Mutations`ë¥¼ ê°•ì œí–ˆì§€ë§Œ, PiniaëŠ” ì´ ê³„ì¸µì„ ì œê±°í•˜ì—¬ Actions ë‚´ì—ì„œ ì§ì ‘ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. ì´ëŠ” ì½”ë“œì˜ ë³µì¡ì„±ì„ í¬ê²Œ ì¤„ì—¬ì¤ë‹ˆë‹¤.
- **TypeScript ì§€ì› ê°•í™” (Type Safety)**: PiniaëŠ” ì½”ì–´ë¶€í„° TypeScriptë¥¼ ì—¼ë‘ì— ë‘ê³  ì„¤ê³„ë˜ì–´, ìƒíƒœ(State), Getter, Actionì— ëŒ€í•œ ì™„ë²½í•œ íƒ€ì… ì¶”ë¡ ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ëŠ” ëŒ€ê·œëª¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì•ˆì •ì„±ê³¼ ê°œë°œ ê²½í—˜ì„ í¬ê²Œ í–¥ìƒì‹œí‚µë‹ˆë‹¤.
- **ëª¨ë“ˆí™” ê¸°ë³¸ (No Namespacing Headaches)**: PiniaëŠ” ëª¨ë“  Storeê°€ ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“ˆí™”ë˜ì–´ ìˆìœ¼ë©°, Vuexì˜ ë³µì¡í–ˆë˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤(Namespacing) ì˜µì…˜ì„ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ì–´ì¡ŒìŠµë‹ˆë‹¤. ê° Storeê°€ ë…ë¦½ì ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.
- **ë” ê°€ë²¼ì›€**: Piniaì˜ ì½”ì–´ëŠ” Vuexë³´ë‹¤ í›¨ì”¬ ê°€ë²¼ìš°ë©°, ìµœì†Œí•œì˜ APIë§Œ ì œê³µí•˜ì—¬ ëŸ¬ë‹ ì»¤ë¸Œê°€ ë‚®ìŠµë‹ˆë‹¤.

## âš™ï¸ Piniaì˜ ì‘ë™ ì›ë¦¬

Piniaì˜ ì‘ë™ ì›ë¦¬ëŠ” Vue 3ì˜ ë°˜ì‘ì„±(Reactivity) ì‹œìŠ¤í…œì„ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤.

- **Store ìƒì„±**: `defineStore` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ Storeë¥¼ ì •ì˜í•˜ë©´, PiniaëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ì´ Storeë¥¼ Vueì˜ ë°˜ì‘ì„± ì‹œìŠ¤í…œ(`reactive()`)ì„ í†µí•´ ê°ì‹¸ì„œ ë§Œë“­ë‹ˆë‹¤.
- **ë°ì´í„° ì ‘ê·¼**: ì»´í¬ë„ŒíŠ¸ì—ì„œ `useStore()`ì™€ ê°™ì€ í˜•íƒœë¡œ Storeì— ì ‘ê·¼í•˜ë©´, VueëŠ” í•´ë‹¹ Storeì˜ ëª¨ë“  ì†ì„±(State, Getter)ì— ëŒ€í•œ ë°˜ì‘ì„± ì—°ê²°(Reactivity Connection)ì„ ì„¤ì •í•©ë‹ˆë‹¤.
- **ìƒíƒœ ë³€ê²½ ê°ì§€**: ì»´í¬ë„ŒíŠ¸ë‚˜ Actionì—ì„œ Storeì˜ Stateë¥¼ ë³€ê²½í•˜ë©´, PiniaëŠ” Vueì˜ ë°˜ì‘ì„± ë©”ì»¤ë‹ˆì¦˜ì„ í†µí•´ ë³€ê²½ì„ ê°ì§€í•˜ê³ , í•´ë‹¹ ìƒíƒœë¥¼ ì‚¬ìš©í•˜ê³  ìˆëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

## ğŸ—ï¸ Piniaì˜ ê¸°ë³¸ êµ¬ì¡° (State, Getters, Actions)

Pinia StoreëŠ” `defineStore` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì˜ë©ë‹ˆë‹¤. `Option Store` (Vuexì™€ ìœ ì‚¬) ë˜ëŠ” `Setup Store` (Composition APIì™€ ìœ ì‚¬) ë‘ ê°€ì§€ ë°©ì‹ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆìœ¼ë©°, ê°€ì¥ ì¼ë°˜ì ì¸ `Option Store`ì˜ ê¸°ë³¸ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```javascript
import { defineStore } from "pinia";

// 'counter'ëŠ” ì´ Storeì˜ ê³ ìœ  IDì´ë©° í•„ìˆ˜ì…ë‹ˆë‹¤.
export const useCounterStore = defineStore("counter", {
  state: () => ({
    count: 0,
    name: "Pinia User",
    isAdmin: true,
  }),

  getters: {
    doubleCount: (state) => state.count * 2,
    isAdminInfo() {
      return this.name + (this.isAdmin ? " (Admin)" : " (Guest)");
    },
  },

  actions: {
    increment() {
      this.count++;
    },

    // ë¹„ë™ê¸° ì²˜ë¦¬ ê°€ëŠ¥
    async waitAndIncrement() {
      await new Promise((resolve) => setTimeout(resolve, 1000));
      this.count++;
    },
  },
});
```

## ğŸ’¡ ìŠ¤í† ì–´ì—ì„œ ë°ì´í„° ì ‘ê·¼ ë° ë³€ê²½

PiniaëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ Storeë¥¼ ì‚¬ìš©í•  ë•Œë„ Composition APIì˜ í›…ì²˜ëŸ¼ ì‘ë™í•˜ì—¬ ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.

### 1. ì»´í¬ë„ŒíŠ¸ì—ì„œ Store ì‚¬ìš©

| ì‘ì—…                | Composition API ë°©ì‹               | ì„¤ëª…                                             |
| :------------------ | :--------------------------------- | :----------------------------------------------- |
| **Store ì‚¬ìš©**      | `const store = useCounterStore();` | `defineStore`ì—ì„œ ì •ì˜í•œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.      |
| **Getter ì ‘ê·¼**     | `store.doubleCount`                | GetterëŠ” ì½ê¸° ì „ìš© ì†ì„±ì²˜ëŸ¼ ì ‘ê·¼í•©ë‹ˆë‹¤.          |
| **Action í˜¸ì¶œ**     | `store.increment()`                | Actionì€ ë©”ì„œë“œì²˜ëŸ¼ í˜¸ì¶œí•˜ì—¬ ìƒíƒœë¥¼ ë³€ê²½í•©ë‹ˆë‹¤.  |
| **State ì§ì ‘ ì ‘ê·¼** | `store.count`                      | Stateì— ì§ì ‘ ì ‘ê·¼í•˜ì—¬ ì½ê±°ë‚˜ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. |

### 2. State í•´ì²´ ì‹œ ë°˜ì‘ì„± ìœ ì§€

`const { count } = store;`ì™€ ê°™ì´ Stateë¥¼ êµ¬ì¡° ë¶„í•´(Destructuring)í•˜ë©´ ë°˜ì‘ì„±ì„ ìƒìŠµë‹ˆë‹¤. ë°˜ì‘ì„±ì„ ìœ ì§€í•˜ë©° Stateë¥¼ í•´ì²´í•˜ë ¤ë©´ `storeToRefs` ìœ í‹¸ë¦¬í‹°ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

```javascript
import { storeToRefs } from "pinia";
import { useCounterStore } from "./stores/counter";

export default {
  setup() {
    const store = useCounterStore();
    // Stateì™€ Getterë¥¼ í•´ì²´í•˜ì—¬ ë°˜ì‘ì„± ìˆê²Œ ì‚¬ìš©
    const { count, doubleCount } = storeToRefs(store);
    const { increment } = store;

    return {
      count,
      doubleCount,
      increment,
    };
  },
};
```
