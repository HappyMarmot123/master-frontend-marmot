## Fragment & Teleport

### Fragment

Vue 2에서 컴포넌트 템플릿은 반드시 하나의 단일 루트 노드(Single Root Node)로 감싸져 있어야 했습니다. 이 규칙을 지키지 않으면 오류가 발생했습니다.

Vue 3에서는 더 이상 단일 루트 노드 제약이 없습니다.
템플릿에서 여러 개의 최상위 요소(Sibling Elements)를 직접 반환할 수 있습니다. 이는 단순히 컨테이너 역할을 했던 불필요한 래퍼(Wrapper)를 제거하여 DOM 트리를 더 깔끔하고 가볍게 유지할 수 있게 해줍니다.

### Teleport

`Teleport`는 컴포넌트의 렌더링된 내용을 DOM 트리의 다른 위치로 이동시킬 수 있게 해주는 내장 컴포넌트입니다. `Teleport`는 컴포넌트의 로직과 상태는 현재 위치(부모 컴포넌트)에 그대로 두지만, 렌더링되는 마크업(DOM)만 지정된 다른 위치로 이동시킵니다. 모달, 팝오버, 툴팁, 알림 등 부모 컴포넌트의 CSS나 `z-index` 스택에 영향을 받지 않고 화면 최상단에 독립적으로 렌더링되어야 하는 요소를 처리할 때 매우 유용합니다.

#### Teleport 컴포넌트의 필수 속성

- `to`: 마크업을 이동시킬 대상 DOM 요소를 지정하는 CSS 선택자(`'#modal-root'`) 또는 DOM 요소 객체를 받습니다.
- `내부 콘텐츠`: `<Teleport>` 태그 사이에 이동시킬 콘텐츠를 넣습니다.

```javascript
<template>
  <div class="app-root">
    <button @click="showModal = true">모달 열기</button>

    <Teleport to="#teleport-target">
      <div v-if="showModal" class="modal-backdrop">
        <div class="modal-content">
          <p>모달 내용</p>
          <button @click="showModal = false">닫기</button>
        </div>
      </div>
    </Teleport>
  </div>
</template>
```

사용할 때 `Invalid Teleport target on mount` 에러가 발생할 수 있습니다. 이는 `Teleport`가 렌더링될 시점에 `to` 속성으로 지정된 대상 DOM 요소를 찾지 못할 때 발생합니다. 주로 대상 요소가 `Teleport` 컴포넌트보다 나중에 렌더링될 때 발생합니다.

이 문제를 해결하는 방법은 두 가지가 있습니다.

1.  **코드 순서 변경**: 대상 DOM 요소가 `Teleport` 컴포넌트보다 먼저 렌더링되도록 코드 순서를 변경합니다.
2.  **`defer` 속성 사용**: `Teleport` 컴포넌트에 `defer` 속성을 추가하면, 모든 로컬 요소가 마운트될 때까지 대상 확인을 지연시킵니다.

```vue
<template>
  <Teleport to=".modal-target" defer>
    <div>위치로 텔레포트</div>
  </Teleport>
  <div class="modal-target">대상 위치</div>
</template>
```
