# Global Accelerator

## 개요
AWS Global Accelerator는 전 세계 사용자에게 애플리케이션의 가용성과 성능을 향상시키는 네트워킹 서비스입니다. AWS 글로벌 네트워크를 활용하여 최적의 엔드포인트로 트래픽을 라우팅합니다.

## 핵심 개념

### Global Accelerator란?
**정의**: 전 세계 사용자에게 애플리케이션 성능을 향상시키는 서비스

**주요 기능**:
- 지연 시간 감소
- 자동 장애 조치
- 정적 IP 주소
- DDoS 보호 (Shield 통합)

**작동 원리**:
```
전 세계 사용자
  ↓
Global Accelerator (엣지 로케이션)
  ↓ (AWS 백본 네트워크)
애플리케이션 (여러 리전)
```

### 왜 필요한가?

#### 문제: 인터넷 라우팅
**전통적인 방식**:
```
사용자 (한국)
  ↓ (인터넷, 여러 홉)
애플리케이션 (미국)
  → 높은 지연 시간
  → 불안정한 경로
```

**Global Accelerator 사용**:
```
사용자 (한국)
  ↓ (가장 가까운 엣지)
Global Accelerator
  ↓ (AWS 백본 네트워크, 최적 경로)
애플리케이션 (미국)
  → 낮은 지연 시간
  → 안정적인 경로
```

## Global Accelerator 구성 요소

### 1. 가속기 (Accelerator)
**정의**: Global Accelerator의 리소스

**특징**:
- 정적 IP 주소 제공
- 전 세계에 분산된 엣지 로케이션
- 자동 라우팅

### 2. 리스너 (Listener)
**정의**: 트래픽을 받는 포트와 프로토콜

**지원 프로토콜**:
- TCP
- UDP

**포트**:
- 단일 포트 또는 포트 범위

### 3. 엔드포인트 그룹 (Endpoint Group)
**정의**: 특정 리전의 엔드포인트 그룹

**특징**:
- 리전별로 구성
- 트래픽 가중치 설정
- 헬스 체크 설정

### 4. 엔드포인트 (Endpoint)
**정의**: 트래픽의 최종 대상

**엔드포인트 유형**:
- **Application Load Balancer (ALB)**
- **Network Load Balancer (NLB)**
- **EC2 인스턴스**
- **Elastic IP**

## Global Accelerator 작동 원리

### 라우팅 방식

#### 1. 지연 시간 기반 라우팅
**정의**: 사용자와 가장 가까운 엔드포인트로 라우팅

**작동 원리**:
```
사용자 위치 감지
  ↓
각 엔드포인트까지의 지연 시간 측정
  ↓
가장 낮은 지연 시간의 엔드포인트 선택
  ↓
트래픽 라우팅
```

**특징**:
- 실시간 지연 시간 측정
- 자동으로 최적 엔드포인트 선택
- 지속적인 모니터링

#### 2. 헬스 체크 기반 라우팅
**정의**: 정상 엔드포인트로만 라우팅

**작동 원리**:
```
Global Accelerator
  ↓ (헬스 체크)
엔드포인트 1 (정상) → 트래픽 라우팅
엔드포인트 2 (비정상) → 트래픽 차단
```

**특징**:
- 자동 장애 감지
- 비정상 엔드포인트 자동 제외
- 빠른 장애 조치

### AWS 백본 네트워크
**정의**: AWS의 글로벌 전용 네트워크

**특징**:
- 최적화된 경로
- 높은 대역폭
- 낮은 지연 시간
- 안정적인 연결

**장점**:
- 인터넷보다 빠름
- 일관된 성능
- DDoS 보호

## Global Accelerator vs CloudFront

### 비교표

| 항목 | Global Accelerator | CloudFront |
|------|-------------------|------------|
| **목적** | 애플리케이션 가속 | 콘텐츠 전송 (CDN) |
| **계층** | Layer 4 (TCP/UDP) | Layer 7 (HTTP/HTTPS) |
| **캐싱** | 없음 | 있음 |
| **사용 사례** | 동적 콘텐츠, API | 정적 콘텐츠 |
| **엔드포인트** | ALB, NLB, EC2 | S3, ALB, Custom Origin |

### 선택 기준

#### Global Accelerator를 선택하는 경우
- 동적 콘텐츠
- API 엔드포인트
- TCP/UDP 트래픽
- 여러 리전에 애플리케이션 배포
- 자동 장애 조치 필요

#### CloudFront를 선택하는 경우
- 정적 콘텐츠
- HTTP/HTTPS 트래픽
- 캐싱 필요
- 전 세계 콘텐츠 배포

### 함께 사용하기
```
사용자
  ├── 정적 콘텐츠 → CloudFront
  └── API 요청 → Global Accelerator
      ↓
  ALB
```

## 사용 사례

### 시나리오 1: 글로벌 API
```
전 세계 사용자
  ↓
Global Accelerator
  ├── 리전 A (서울) - ALB
  ├── 리전 B (도쿄) - ALB
  └── 리전 C (버지니아) - ALB
```

**장점**:
- 사용자와 가장 가까운 리전으로 라우팅
- 자동 장애 조치
- 일관된 성능

### 시나리오 2: 게임 서버
```
전 세계 게이머
  ↓
Global Accelerator (UDP)
  ├── 게임 서버 1 (서울)
  ├── 게임 서버 2 (도쿄)
  └── 게임 서버 3 (버지니아)
```

**장점**:
- 낮은 지연 시간
- 자동 장애 조치
- UDP 지원

### 시나리오 3: 실시간 스트리밍
```
전 세계 시청자
  ↓
Global Accelerator
  ↓
미디어 서버 (여러 리전)
```

## 정적 IP 주소

### 기능
**정의**: Global Accelerator가 제공하는 고정 IP 주소

**특징**:
- 두 개의 정적 IP 주소 제공
- 전 세계 어디서나 동일한 IP
- 화이트리스트에 추가 가능

**장점**:
- IP 주소 변경 없음
- 방화벽 규칙 간소화
- 안정적인 연결

## 자동 장애 조치

### 작동 원리
```
정상 상태:
사용자 → Global Accelerator → 엔드포인트 A (정상)

엔드포인트 A 장애:
Global Accelerator가 헬스 체크 실패 감지
  ↓
자동으로 엔드포인트 B로 전환
  ↓
사용자 → Global Accelerator → 엔드포인트 B
```

**특징**:
- 자동 감지 및 전환
- 애플리케이션 변경 불필요
- 빠른 복구 (수십 초)

## 모범 사례

### 1. 여러 리전 배포
- 최소 2개 이상의 리전에 엔드포인트 배포
- 고가용성 확보

### 2. 헬스 체크 설정
- 적절한 헬스 체크 경로 설정
- 간격 및 임계값 최적화

### 3. 트래픽 가중치
- 리전별 트래픽 가중치 설정
- A/B 테스트
- 점진적 트래픽 이동

### 4. 모니터링
- CloudWatch 지표 모니터링
- 엔드포인트 상태 확인
- 지연 시간 추적

## 비용

### Global Accelerator 비용
- **가속기**: 시간당 $0.025
- **데이터 전송**: GB당 $0.01 (첫 10TB)

### 비용 최적화
- 불필요한 가속기 제거
- 적절한 엔드포인트 선택
- 리전별 트래픽 최적화

## 관련 서비스

### ALB/NLB
- 엔드포인트로 사용
- 로드 밸런싱

### Shield
- DDoS 보호
- Global Accelerator와 통합

### Route 53
- DNS와 함께 사용
- 지연 시간 기반 라우팅

## 참고 자료
- [Global Accelerator 공식 문서](https://docs.aws.amazon.com/global-accelerator/)
- [Global Accelerator 모범 사례](https://docs.aws.amazon.com/global-accelerator/latest/dg/best-practices.html)

