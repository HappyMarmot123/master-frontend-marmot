# 공동 책임 모델 (Shared Responsibility Model)

## 개요

공동 책임 모델은 AWS 클라우드에서 **누가 무엇을 책임져야 하는지**를 명확히 구분한 규칙입니다. 쉽게 말해, AWS와 고객이 각각 어떤 보안을 담당하는지 나눈 것입니다.

아파트 관리사무소는 건물 자체를 관리하고, 입주민은 집 안을 관리합니다. 마찬가지로 AWS는 클라우드 인프라를 관리하고, 고객은 그 안에서 사용하는 것들을 관리합니다.

1. 물리적 보안

- 누군가가 AWS 데이터 센터에 침입해서 서버를 훔쳐가려고 해도, AWS가 막아줍니다.

2. 하드웨어 및 네트워크

- 서버가 고장나면 AWS가 교체해줍니다. 네트워크가 끊어지면 AWS가 복구해줍니다.

3. AWS 서비스 자체의 보안

- S3 서비스에 보안 문제가 발견되면 AWS가 수정합니다.

고객은 **AWS 클라우드 안에서 자신이 사용하는 것들**을 책임집니다. 마치 아파트 안에서 내 집을 관리하는 것과 같습니다.

1. 데이터 보안

- S3에 중요한 파일을 저장했다면, 그 파일을 암호화하는 것은 내가 해야 합니다. 내 데이터를 누가 볼 수 있는지 설정하는 것도 내 책임입니다.

2. 운영 체제 및 애플리케이션 보안

- EC2에 Linux 서버를 만들었다면, Linux 보안 업데이트를 설치 및 보안 취약점 보안은 직접 해야합니다.

3. 접근 권한 관리

- AWS 계정에 어떤 권한을 줄지 결정하는 것은 내가 해야 합니다.

AWS 서비스는 크게 3가지 종류로 나뉘고, 각각 고객이 책임져야 하는 범위가 다릅니다.

### 1. 인프라 서비스 (EC2, VPC) - 고객 책임이 많음

EC2 인스턴스를 생성하면 AWS는 물리적 서버 하드웨어를 제공하고, 네트워크 연결과 기본 인프라를 관리합니다. 하지만 그 위에서 실행되는 모든 소프트웨어는 고객이 직접 관리해야 합니다.

보안 그룹이나 네트워크 ACL 같은 방화벽 설정도 고객이 직접 구성해야 합니다. 어떤 포트를 열고, 어떤 IP 주소에서 접근을 허용할지 결정하는 것은 모두 고객의 몫입니다. 만약 보안 그룹을 잘못 설정해서 불필요한 포트를 열어놓았다면, 그것으로 인한 보안 문제는 고객이 책임져야 합니다.

### 2. 컨테이너 서비스 (ECS, EKS) - 중간 정도

ECS를 사용할 때는 AWS가 컨테이너를 실행하고 관리하는 플랫폼 자체를 책임집니다. 컨테이너가 어느 서버에서 실행될지, 어떻게 스케일링될지, 어떻게 로드 밸런싱될지 같은 것들은 모두 AWS가 자동으로 관리합니다. 하지만 그 안에서 실행되는 애플리케이션과 데이터는 고객이 관리해야 합니다.

예를 들어 컨테이너 안에 넣을 애플리케이션 코드를 작성하는 것은 고객의 책임입니다. Docker 이미지를 만들고, 그 안에 웹 애플리케이션이나 API 서버 같은 코드를 넣어야 합니다. 또한 컨테이너 이미지 자체의 보안도 점검해야 합니다. 만약 컨테이너 이미지에 보안 취약점이 있는 라이브러리가 포함되어 있다면, 그것은 고객이 수정해야 합니다.

### 3. 추상화된 서비스 (S3, DynamoDB, Lambda) - 고객 책임이 적음

S3를 사용할 때는 AWS가 거의 모든 인프라를 관리합니다. S3가 사용하는 서버 하드웨어, 운영 체제, 스토리지 시스템, 네트워크 인프라 등은 모두 AWS가 책임집니다. 고객은 서버를 직접 관리할 필요가 없고, 운영 체제 패치를 설치할 필요도 없습니다. AWS가 모든 것을 자동으로 관리해줍니다.

하지만 고객이 해야 할 일도 있습니다. 가장 중요한 것은 저장하는 데이터 자체를 관리하는 것입니다. 어떤 파일을 저장할지, 어떻게 구성할지, 언제 삭제할지 같은 것들은 모두 고객이 결정해야 합니다.

데이터 암호화도 고객이 설정해야 합니다. S3 버킷을 만들 때 기본적으로 암호화가 활성화되어 있지 않기 때문에, 고객이 직접 암호화 설정을 활성화해야 합니다. 암호화를 설정하지 않으면 데이터가 평문으로 저장될 수 있습니다. 암호화 키를 AWS가 관리할지, 아니면 고객이 직접 관리할지도 선택할 수 있습니다.

### 빠른 참조표

| 항목               | AWS 책임 | 고객 책임 |
| ------------------ | -------- | --------- |
| 데이터 센터 보안   | ✅       | ❌        |
| 서버 하드웨어      | ✅       | ❌        |
| 네트워크 인프라    | ✅       | ❌        |
| EC2 운영 체제 패치 | ❌       | ✅        |
| RDS 운영 체제 패치 | ✅       | ❌        |
| 데이터 암호화      | ❌       | ✅        |
| 보안 그룹 설정     | ❌       | ✅        |
| IAM 권한 관리      | ❌       | ✅        |
| 애플리케이션 보안  | ❌       | ✅        |
| S3 버킷 접근 권한  | ❌       | ✅        |
