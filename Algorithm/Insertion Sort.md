# 삽입 정렬 (Insertion Sort)

삽입 정렬은 배열의 모든 요소를 앞에서부터 차례대로 이미 정렬된 부분 배열과 비교하여 자신의 위치를 찾아 삽입하는 정렬 알고리즘입니다. 마치 카드를 정렬하는 방식과 유사하다고 생각할 수 있습니다.

## 1. 동작 방식

1.  **두 번째 요소부터 시작:** 첫 번째 요소는 이미 정렬된 상태라고 가정하고, 두 번째 요소부터 시작합니다.
2.  **현재 요소를 선택:** 현재 위치의 요소를 `key`로 선택합니다.
3.  **정렬된 부분 배열과 비교:** `key`를 정렬된 부분 배열(현재 요소의 왼쪽 부분)의 요소들과 오른쪽에서 왼쪽으로 비교합니다.
4.  **요소 이동:** `key`보다 큰 요소들은 한 칸씩 오른쪽으로 이동시킵니다.
5.  **key 삽입:** `key`보다 작거나 같은 요소를 만나거나 배열의 시작점에 도달하면, 그 다음 위치에 `key`를 삽입합니다.
6.  **반복:** 모든 요소가 제자리를 찾을 때까지 이 과정을 반복합니다.

## 2. 장점

- **구현이 간단합니다.**
- **부분적으로 정렬된 배열에 효율적입니다.** (거의 정렬된 배열의 경우 O(N)에 가까운 성능을 보입니다.)
- **안정 정렬(Stable Sort)입니다.** (동일한 값을 가진 요소들의 상대적 순서가 유지됩니다.)
- **데이터의 양이 적을 때 효율적입니다.** (N이 작을 때 다른 복잡한 정렬 알고리즘보다 빠를 수 있습니다.)

## 3. 단점

- **비효율적입니다.** 특히 역순으로 정렬된 배열과 같이 최악의 경우 O(N^2)의 시간 복잡도를 가집니다.
- **많은 데이터 이동:** 요소를 삽입할 때마다 그 뒤의 요소들을 모두 한 칸씩 이동시켜야 하므로 데이터 이동 횟수가 많습니다.

## 4. 시간 복잡도

- **최선 (Best Case):** O(N) - 배열이 이미 정렬되어 있는 경우. 각 요소를 한 번만 비교합니다.
- **평균 (Average Case):** O(N^2)
- **최악 (Worst Case):** O(N^2) - 배열이 역순으로 정렬되어 있는 경우. 각 요소를 정렬된 부분 배열의 모든 요소와 비교하고 이동합니다.

## 5. 예제 코드 (JavaScript)

```javascript
function insertionSort(arr) {
  for (let i = 1; i < arr.length; i++) {
    let current = arr[i]; // 현재 삽입할 요소
    let j = i - 1; // 정렬된 부분 배열의 마지막 인덱스

    // 현재 요소(current)가 정렬된 부분 배열의 요소(arr[j])보다 작으면
    // arr[j]를 오른쪽으로 한 칸 이동시키고 j를 감소시킴
    while (j >= 0 && arr[j] > current) {
      arr[j + 1] = arr[j];
      j--;
    }
    // 올바른 위치에 current 삽입
    arr[j + 1] = current;
  }
  return arr;
}

// 사용 예시:
// let array = [12, 11, 13, 5, 6];
// console.log("원본 배열:", array); // 원본 배열: [12, 11, 13, 5, 6]
// console.log("정렬된 배열:", insertionSort(array)); // 정렬된 배열: [5, 6, 11, 12, 13]
```

**코드 설명:**

1.  `for` 루프는 두 번째 요소부터(`i = 1`) 배열의 끝까지 반복합니다.
2.  `current` 변수에 현재 삽입할 요소를 저장하고, `j`는 `current`의 바로 왼쪽(이미 정렬된 부분)을 가리킵니다.
3.  `while` 루프는 `j`가 배열의 시작(`0`)보다 크거나 같고, `arr[j]`가 `current`보다 크면 계속됩니다.
4.  이 조건이 참이면, `arr[j]`를 한 칸 오른쪽(`arr[j + 1]`)으로 이동시키고 `j`를 감소시켜 왼쪽으로 이동합니다.
5.  `while` 루프가 끝나면 `current`가 들어갈 올바른 위치(`j + 1`)를 찾은 것이므로, 그곳에 `current`를 삽입합니다.
6.  모든 요소에 대해 이 과정을 반복하면 배열이 완전히 정렬됩니다.
