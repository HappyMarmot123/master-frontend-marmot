# 호이스팅 (Hoisting)

## 📖 개요

자바스크립트에서 **변수/함수 선언을 호이스팅**하는 것은 실행 컨텍스트의 생성 단계에서 해당 식별자들을 미리 **렉시컬 환경(Lexical Environment)**의 **환경 레코드**에 등록해두기 때문입니다. 이렇게 미리 등록하는 이유는 스코프 내의 모든 선언을 코드가 실행되기 전에 한 번에 수집하여, 코드의 순서와 관계없이 참조할 수 있게 만들기 위함입니다.

이러한 메커니즘은 코드를 분석하고 실행하는 효율성을 높여줍니다.

## 🔍 호이스팅과 렉시컬 환경의 관계

자바스크립트 코드는 크게 두 단계로 실행됩니다.

### 1. 생성 단계 (Creation Phase)

- 자바스크립트 엔진이 코드를 읽어 들여 **실행 컨텍스트**를 생성합니다.
- 이 과정에서 스코프 내의 **`var` 변수, 함수 선언문, `let`, `const`, `class`** 선언을 모두 찾습니다.
- 찾아낸 선언들을 **렉시컬 환경**에 미리 등록합니다.
- `var` 변수와 함수 선언은 `undefined` 또는 함수 객체로 **초기화**됩니다.
- `let`, `const`, `class`는 **초기화되지 않은 상태**로 등록됩니다. (이 때문에 호이스팅이 일어나도 변수 선언 이전에 접근하면 ReferenceError가 발생합니다. 이를 **일시적 사각지대(Temporal Dead Zone)**라고 합니다.)

### 2. 실행 단계 (Execution Phase)

- 이제 코드가 한 줄씩 순서대로 실행됩니다.
- 코드에서 변수나 함수를 만날 때, 엔진은 이미 렉시컬 환경에 등록된 정보를 이용해 해당 식별자에 접근합니다.

## 🎯 왜 미리 등록해야 할까요?

호이스팅은 코드를 위에서 아래로 읽으며 실행하는 인터프리터 언어의 한계를 극복하기 위해 설계된 기능입니다. 변수나 함수를 사용하기 전에 반드시 선언해야 하는 다른 언어들과 달리, 자바스크립트는 선언 위치에 관계없이 스코프 내 어디에서든 변수와 함수를 참조할 수 있습니다.

### 장점

1. **유연성**: 함수를 사용하기 전에 선언할 필요 없음
2. **가독성**: 주요 함수를 파일 상단에 배치 가능
3. **성능**: 실행 시점에 식별자 검색 불필요

### 단점

1. **예측 어려움**: 코드 실행 순서와 다른 동작
2. **디버깅 복잡성**: 호이스팅으로 인한 혼란
3. **일관성 부족**: 다른 언어와 다른 동작 방식
