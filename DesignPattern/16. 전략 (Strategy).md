# 전략 (Strategy)

## 개요

**알고리즘군을 정의하고, 각 알고리즘을 캡슐화하여 상호 교환 가능하도록 만드는** 행동 패턴입니다. 클라이언트가 어떤 알고리즘을 사용할지 결정하지만, 알고리즘의 구체적인 구현을 알 필요 없이 동적으로 변경할 수 있습니다. 각 알고리즘 클래스는 하나의 특정 알고리즘을 구현하는 책임만 가지므로 if-else 분기처리가 필요 없습니다.

## 전체 활용 아이디어

- **결제 시스템**: 다양한 결제 수단(카카오페이, 네이버페이) 처리 전략
- **가격 포맷**: 국가별 통화 처리 전략

## JavaScript 예제

```javascript
// 결제 전략 인터페이스
class PaymentStrategy {
    pay(amount) {
        throw new Error('이 메서드는 구현되어야 합니다.');
    }
}

---

// 카카오페이 결제 전략
class KakaoPayPayment extends PaymentStrategy {
    pay(amount) {
        console.log(`✅ ${amount}원을 카카오페이로 결제했습니다.`);
    }
}

// 네이버페이 결제 전략
class NaverPayPayment extends PaymentStrategy {
    pay(amount) {
        console.log(`✅ ${amount}원을 네이버페이로 결제했습니다.`);
    }
}

---

// 컨텍스트: 주문 객체
class ShoppingCart {
    constructor(paymentStrategy) {
        this.paymentStrategy = paymentStrategy;
    }

    // 결제 전략 변경 메서드
    setPaymentStrategy(strategy) {
        this.paymentStrategy = strategy;
    }

    // 결제 요청: 실제 결제는 전략 객체에 위임
    checkout(amount) {
        console.log(`\n총 ${amount}원 결제를 요청합니다.`);
        this.paymentStrategy.pay(amount);
    }
}

---

const kakaoPay = new KakaoPayPayment();
const naverPay = new NaverPayPayment();
const shoppingCart = new ShoppingCart(kakaoPay);

shoppingCart.checkout(25000); // 출력: ✅ 25000원을 카카오페이로 결제했습니다.

shoppingCart.setPaymentStrategy(naverPay);
shoppingCart.checkout(5000); // 출력: ✅ 5000원을 네이버페이로 결제했습니다.
```

## 팩토리 메서드(Factory Method) 패턴과의 차이점

전략 패턴과 팩토리 메서드 패턴은 모두 '새로운 클래스 추가에 유연하게 대응한다'는 공통점이 있지만, 목적과 책임에서 명확한 차이가 있습니다.

- **전략 패턴**은 객체의 **행동 변화**에 초점을 맞춥니다. 알고리즘 또는 행위를 캡슐화하고 교체 가능하게 합니다. 결제,인증 방식 등을 구현할 수 있습니다.
- **팩토리 메서드 패턴**은 **객체 생성의 변화**에 초점을 맞춥니다. 객체 생성 로직을 서브클래스에 위임하며, 버튼 컴포넌트나 데이터베이스 커넥션을 구현할 수 있습니다.
