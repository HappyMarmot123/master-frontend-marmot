# ì•„íŠ¸ ë””ë ‰ì…˜ (Art Direction)

## ğŸ“– ê°œìš”

**ì•„íŠ¸ ë””ë ‰ì…˜(Art Direction)**ì€ ë‹¤ì–‘í•œ ë””ë°”ì´ìŠ¤ì™€ í™”ë©´ í¬ê¸°ì— ë§ì¶° ì´ë¯¸ì§€ì˜ ì‹œê°ì  êµ¬ì„±ì„ ìµœì í™”í•˜ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤. ë‹¨ìˆœí•œ í¬ê¸° ì¡°ì •ì´ ì•„ë‹Œ, ê° ë””ë°”ì´ìŠ¤ì˜ íŠ¹ì„±ê³¼ ì‚¬ìš©ì ê²½í—˜ì„ ê³ ë ¤í•˜ì—¬ ì´ë¯¸ì§€ì˜ ì´ˆì , êµ¬ë„, ì½˜í…ì¸ ë¥¼ ì¡°ì •í•˜ëŠ” ê³ ê¸‰ ë°˜ì‘í˜• ì´ë¯¸ì§€ ê¸°ë²•ì…ë‹ˆë‹¤.

## ğŸ¯ ì•„íŠ¸ ë””ë ‰ì…˜ì˜ í•„ìš”ì„±

### 1. ë‹¨ìˆœ í¬ê¸° ì¡°ì •ì˜ í•œê³„

**ê¸°ì¡´ ë°˜ì‘í˜• ì´ë¯¸ì§€ì˜ ë¬¸ì œì **:

- **êµ¬ë„ ì†ì‹¤**: ì‘ì€ í™”ë©´ì—ì„œ ì¤‘ìš”í•œ ìš”ì†Œê°€ ì˜ë¦¬ê±°ë‚˜ ì¶•ì†Œë¨
- **ê°€ë…ì„± ì €í•˜**: ëª¨ë°”ì¼ì—ì„œ í…ìŠ¤íŠ¸ë‚˜ ì„¸ë¶€ ìš”ì†Œê°€ ì½ê¸° ì–´ë ¤ì›Œì§
- **ì‚¬ìš©ì ê²½í—˜ ì•…í™”**: ë””ë°”ì´ìŠ¤ë³„ ìµœì í™”ë˜ì§€ ì•Šì€ ì´ë¯¸ì§€ë¡œ ì¸í•œ ë¶ˆí¸í•¨
- **ë¸Œëœë“œ ì¼ê´€ì„± ì €í•˜**: í™”ë©´ í¬ê¸°ì— ë”°ë¼ ì´ë¯¸ì§€ì˜ ì„íŒ©íŠ¸ê°€ ë‹¬ë¼ì§

**ì‹¤ì œ ë¬¸ì œ ì‚¬ë¡€**:

```html
<!-- ë‹¨ìˆœ í¬ê¸° ì¡°ì •ë§Œìœ¼ë¡œëŠ” í•´ê²°ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ -->
<img
  src="hero-image.jpg"
  srcset="
    hero-image-400w.jpg   400w,
    hero-image-800w.jpg   800w,
    hero-image-1200w.jpg 1200w
  "
  sizes="100vw"
  alt="íˆì–´ë¡œ ì´ë¯¸ì§€"
/>
<!-- ëª¨ë°”ì¼ì—ì„œëŠ” ì¤‘ìš”í•œ í…ìŠ¤íŠ¸ê°€ ì˜ë¦¬ê³ , 
     ë°ìŠ¤í¬í†±ì—ì„œëŠ” ë¶ˆí•„ìš”í•œ ì—¬ë°±ì´ ìƒê¹€ -->
```

### 2. ì•„íŠ¸ ë””ë ‰ì…˜ì˜ í•´ê²°ì±…

**ì•„íŠ¸ ë””ë ‰ì…˜ì˜ ì´ì **:

- **ë””ë°”ì´ìŠ¤ë³„ ìµœì í™”**: ê° í™”ë©´ í¬ê¸°ì— ë§ëŠ” ìµœì ì˜ ì´ë¯¸ì§€ êµ¬ë„ ì œê³µ
- **ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ**: ëª¨ë“  ë””ë°”ì´ìŠ¤ì—ì„œ ì¼ê´€ëœ ì‹œê°ì  ì„íŒ©íŠ¸ ìœ ì§€
- **ì½˜í…ì¸  ê°€ë…ì„±**: ì‘ì€ í™”ë©´ì—ì„œë„ ì¤‘ìš”í•œ ìš”ì†Œê°€ ëª…í™•í•˜ê²Œ ë³´ì„
- **ë¸Œëœë“œ ì¼ê´€ì„±**: ë‹¤ì–‘í•œ ë””ë°”ì´ìŠ¤ì—ì„œë„ ë¸Œëœë“œ ì´ë¯¸ì§€ ìœ ì§€

**ìµœì í™” íš¨ê³¼**:

```javascript
// ì•„íŠ¸ ë””ë ‰ì…˜ ì ìš© ì „í›„ ë¹„êµ
const artDirectionComparison = {
  before: {
    mobile: { readability: "ë‚®ìŒ", userExperience: "ë‚˜ì¨", loadTime: "3.2ì´ˆ" },
    tablet: { readability: "ë³´í†µ", userExperience: "ë³´í†µ", loadTime: "2.8ì´ˆ" },
    desktop: { readability: "ë†’ìŒ", userExperience: "ì¢‹ìŒ", loadTime: "2.1ì´ˆ" },
  },
  after: {
    mobile: { readability: "ë†’ìŒ", userExperience: "ì¢‹ìŒ", loadTime: "2.1ì´ˆ" },
    tablet: { readability: "ë†’ìŒ", userExperience: "ì¢‹ìŒ", loadTime: "1.9ì´ˆ" },
    desktop: { readability: "ë†’ìŒ", userExperience: "ì¢‹ìŒ", loadTime: "1.8ì´ˆ" },
  },
};
```

## ğŸ”§ ì•„íŠ¸ ë””ë ‰ì…˜ êµ¬í˜„ ë°©ë²•

### 1. HTML picture ìš”ì†Œ í™œìš©

**ê¸°ë³¸ ì•„íŠ¸ ë””ë ‰ì…˜ êµ¬ì¡°**:

```html
<!-- ê¸°ë³¸ ì•„íŠ¸ ë””ë ‰ì…˜ êµ¬í˜„ -->
<picture>
  <!-- ëª¨ë°”ì¼ìš© ì´ë¯¸ì§€ (ì„¸ë¡œ êµ¬ë„, ì£¼ìš” ìš”ì†Œ ì¤‘ì•™ ë°°ì¹˜) -->
  <source
    media="(max-width: 768px)"
    srcset="hero-mobile-400w.jpg 400w, hero-mobile-800w.jpg 800w"
    sizes="100vw"
  />

  <!-- íƒœë¸”ë¦¿ìš© ì´ë¯¸ì§€ (ê°€ë¡œ êµ¬ë„, ê· í˜•ì¡íŒ êµ¬ë„) -->
  <source
    media="(max-width: 1200px)"
    srcset="hero-tablet-600w.jpg 600w, hero-tablet-1200w.jpg 1200w"
    sizes="100vw"
  />

  <!-- ë°ìŠ¤í¬í†±ìš© ì´ë¯¸ì§€ (ê°€ë¡œ êµ¬ë„, ë„“ì€ ì‹œì•¼) -->
  <img
    src="hero-desktop-1200w.jpg"
    srcset="
      hero-desktop-800w.jpg   800w,
      hero-desktop-1200w.jpg 1200w,
      hero-desktop-1600w.jpg 1600w
    "
    sizes="100vw"
    alt="íˆì–´ë¡œ ì´ë¯¸ì§€ - ë‹¤ì–‘í•œ ë””ë°”ì´ìŠ¤ì— ìµœì í™”"
  />
</picture>
```

**ê³ ê¸‰ ì•„íŠ¸ ë””ë ‰ì…˜ (ì—¬ëŸ¬ ì´ë¯¸ì§€ ì†ŒìŠ¤)**:

```html
<!-- ë³µì¡í•œ ì•„íŠ¸ ë””ë ‰ì…˜ êµ¬í˜„ -->
<picture>
  <!-- ëª¨ë°”ì¼ ì„¸ë¡œ í™”ë©´ -->
  <source
    media="(max-width: 480px) and (orientation: portrait)"
    srcset="hero-mobile-portrait-400w.jpg 400w"
    sizes="100vw"
  />

  <!-- ëª¨ë°”ì¼ ê°€ë¡œ í™”ë©´ -->
  <source
    media="(max-width: 768px) and (orientation: landscape)"
    srcset="hero-mobile-landscape-600w.jpg 600w"
    sizes="100vw"
  />

  <!-- íƒœë¸”ë¦¿ -->
  <source
    media="(min-width: 769px) and (max-width: 1024px)"
    srcset="hero-tablet-800w.jpg 800w, hero-tablet-1200w.jpg 1200w"
    sizes="100vw"
  />

  <!-- ë°ìŠ¤í¬í†± -->
  <source
    media="(min-width: 1025px)"
    srcset="
      hero-desktop-1200w.jpg 1200w,
      hero-desktop-1600w.jpg 1600w,
      hero-desktop-2000w.jpg 2000w
    "
    sizes="100vw"
  />

  <!-- í´ë°± ì´ë¯¸ì§€ -->
  <img src="hero-fallback.jpg" alt="íˆì–´ë¡œ ì´ë¯¸ì§€" loading="eager" />
</picture>
```

### 2. CSSë¥¼ í™œìš©í•œ ì•„íŠ¸ ë””ë ‰ì…˜

**CSS ë¯¸ë””ì–´ ì¿¼ë¦¬ë¥¼ í†µí•œ ì´ë¯¸ì§€ ì „í™˜**:

```css
/* CSS ê¸°ë°˜ ì•„íŠ¸ ë””ë ‰ì…˜ */
.hero-image {
  width: 100%;
  height: auto;
  object-fit: cover;
}

/* ëª¨ë°”ì¼ìš© ì´ë¯¸ì§€ */
.hero-image {
  content: url("hero-mobile.jpg");
}

/* íƒœë¸”ë¦¿ìš© ì´ë¯¸ì§€ */
@media (min-width: 769px) {
  .hero-image {
    content: url("hero-tablet.jpg");
  }
}

/* ë°ìŠ¤í¬í†±ìš© ì´ë¯¸ì§€ */
@media (min-width: 1025px) {
  .hero-image {
    content: url("hero-desktop.jpg");
  }
}

/* ê³ í•´ìƒë„ ë””ìŠ¤í”Œë ˆì´ ì§€ì› */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .hero-image {
    content: url("hero-retina.jpg");
  }
}
```

**CSS Gridë¥¼ í™œìš©í•œ ë ˆì´ì•„ì›ƒ ê¸°ë°˜ ì•„íŠ¸ ë””ë ‰ì…˜**:

```css
/* CSS Grid ê¸°ë°˜ ì•„íŠ¸ ë””ë ‰ì…˜ */
.hero-container {
  display: grid;
  grid-template-areas:
    "image"
    "content";
  gap: 1rem;
}

.hero-image {
  grid-area: image;
  width: 100%;
  height: 300px;
  object-fit: cover;
}

.hero-content {
  grid-area: content;
  padding: 1rem;
}

/* íƒœë¸”ë¦¿ ì´ìƒì—ì„œëŠ” ê°€ë¡œ ë°°ì¹˜ */
@media (min-width: 768px) {
  .hero-container {
    grid-template-areas: "image content";
    grid-template-columns: 1fr 1fr;
    align-items: center;
  }

  .hero-image {
    height: 400px;
  }
}

/* ë°ìŠ¤í¬í†±ì—ì„œëŠ” ë” ë„“ì€ ì´ë¯¸ì§€ */
@media (min-width: 1200px) {
  .hero-container {
    grid-template-columns: 1.5fr 1fr;
  }

  .hero-image {
    height: 500px;
  }
}
```

### 3. JavaScriptë¥¼ í™œìš©í•œ ë™ì  ì•„íŠ¸ ë””ë ‰ì…˜

**ë™ì  ì´ë¯¸ì§€ ì „í™˜ ì‹œìŠ¤í…œ**:

```javascript
// utils/artDirection.js
class ArtDirectionManager {
  constructor() {
    this.breakpoints = {
      mobile: 768,
      tablet: 1024,
      desktop: 1025,
    };

    this.imageSets = new Map();
    this.currentBreakpoint = null;
    this.init();
  }

  init() {
    this.detectBreakpoint();
    this.setupEventListeners();
    this.applyArtDirection();
  }

  detectBreakpoint() {
    const width = window.innerWidth;

    if (width <= this.breakpoints.mobile) {
      this.currentBreakpoint = "mobile";
    } else if (width <= this.breakpoints.tablet) {
      this.currentBreakpoint = "tablet";
    } else {
      this.currentBreakpoint = "desktop";
    }
  }

  setupEventListeners() {
    let resizeTimer;

    window.addEventListener("resize", () => {
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(() => {
        const newBreakpoint = this.getCurrentBreakpoint();

        if (newBreakpoint !== this.currentBreakpoint) {
          this.currentBreakpoint = newBreakpoint;
          this.applyArtDirection();
        }
      }, 250);
    });

    // ë°©í–¥ ë³€ê²½ ê°ì§€
    window.addEventListener("orientationchange", () => {
      setTimeout(() => {
        this.detectBreakpoint();
        this.applyArtDirection();
      }, 100);
    });
  }

  getCurrentBreakpoint() {
    const width = window.innerWidth;

    if (width <= this.breakpoints.mobile) {
      return "mobile";
    } else if (width <= this.breakpoints.tablet) {
      return "tablet";
    } else {
      return "desktop";
    }
  }

  registerImageSet(elementId, imageSet) {
    this.imageSets.set(elementId, imageSet);
  }

  applyArtDirection() {
    this.imageSets.forEach((imageSet, elementId) => {
      const element = document.getElementById(elementId);
      if (element && imageSet[this.currentBreakpoint]) {
        this.switchImage(element, imageSet[this.currentBreakpoint]);
      }
    });
  }

  switchImage(element, imageConfig) {
    if (element.tagName === "IMG") {
      // img ìš”ì†Œì¸ ê²½ìš°
      element.src = imageConfig.src;
      if (imageConfig.srcset) {
        element.srcset = imageConfig.srcset;
      }
      if (imageConfig.sizes) {
        element.sizes = imageConfig.sizes;
      }
    } else if (element.tagName === "PICTURE") {
      // picture ìš”ì†Œì¸ ê²½ìš°
      const img = element.querySelector("img");
      if (img) {
        img.src = imageConfig.src;
        if (imageConfig.srcset) {
          img.srcset = imageConfig.srcset;
        }
        if (imageConfig.sizes) {
          img.sizes = imageConfig.sizes;
        }
      }
    }

    // CSS í´ë˜ìŠ¤ ì¶”ê°€ë¡œ ìŠ¤íƒ€ì¼ë§ ì§€ì›
    element.className = element.className.replace(
      /art-direction-\w+/g,
      `art-direction-${this.currentBreakpoint}`
    );
  }

  // ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”©
  preloadImages() {
    this.imageSets.forEach((imageSet) => {
      Object.values(imageSet).forEach((config) => {
        if (config.src) {
          const link = document.createElement("link");
          link.rel = "preload";
          link.as = "image";
          link.href = config.src;
          document.head.appendChild(link);
        }
      });
    });
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
const artDirectionManager = new ArtDirectionManager();

// ì´ë¯¸ì§€ ì„¸íŠ¸ ë“±ë¡
artDirectionManager.registerImageSet("hero-image", {
  mobile: {
    src: "hero-mobile.jpg",
    srcset: "hero-mobile-400w.jpg 400w, hero-mobile-800w.jpg 800w",
    sizes: "100vw",
  },
  tablet: {
    src: "hero-tablet.jpg",
    srcset: "hero-tablet-600w.jpg 600w, hero-tablet-1200w.jpg 1200w",
    sizes: "100vw",
  },
  desktop: {
    src: "hero-desktop.jpg",
    srcset: "hero-desktop-1200w.jpg 1200w, hero-desktop-1600w.jpg 1600w",
    sizes: "100vw",
  },
});

// ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”©
artDirectionManager.preloadImages();
```

**React ì»´í¬ë„ŒíŠ¸ì—ì„œì˜ í™œìš©**:

```jsx
// components/ArtDirectionImage.jsx
import React, { useState, useEffect, useRef } from "react";

function ArtDirectionImage({ imageSets, alt, className = "" }) {
  const [currentBreakpoint, setCurrentBreakpoint] = useState("desktop");
  const [currentImage, setCurrentImage] = useState(imageSets.desktop);
  const imageRef = useRef(null);

  useEffect(() => {
    const updateBreakpoint = () => {
      const width = window.innerWidth;
      let breakpoint = "desktop";

      if (width <= 768) {
        breakpoint = "mobile";
      } else if (width <= 1024) {
        breakpoint = "tablet";
      }

      if (breakpoint !== currentBreakpoint) {
        setCurrentBreakpoint(breakpoint);
        setCurrentImage(imageSets[breakpoint]);
      }
    };

    updateBreakpoint();
    window.addEventListener("resize", updateBreakpoint);

    return () => window.removeEventListener("resize", updateBreakpoint);
  }, [currentBreakpoint, imageSets]);

  return (
    <picture className={`art-direction-image ${className}`}>
      {/* ëª¨ë°”ì¼ìš© ì´ë¯¸ì§€ */}
      <source
        media="(max-width: 768px)"
        srcSet={imageSets.mobile.srcset}
        sizes={imageSets.mobile.sizes}
      />

      {/* íƒœë¸”ë¦¿ìš© ì´ë¯¸ì§€ */}
      <source
        media="(max-width: 1024px)"
        srcSet={imageSets.tablet.srcset}
        sizes={imageSets.tablet.sizes}
      />

      {/* ë°ìŠ¤í¬í†±ìš© ì´ë¯¸ì§€ (í´ë°±) */}
      <img
        ref={imageRef}
        src={currentImage.src}
        srcSet={currentImage.srcset}
        sizes={currentImage.sizes}
        alt={alt}
        className={`art-direction-img art-direction-${currentBreakpoint}`}
        loading="lazy"
      />
    </picture>
  );
}

// ì‚¬ìš© ì˜ˆì‹œ
function HeroSection() {
  const heroImageSets = {
    mobile: {
      src: "/images/hero-mobile.jpg",
      srcset:
        "/images/hero-mobile-400w.jpg 400w, /images/hero-mobile-800w.jpg 800w",
      sizes: "100vw",
    },
    tablet: {
      src: "/images/hero-tablet.jpg",
      srcset:
        "/images/hero-tablet-600w.jpg 600w, /images/hero-tablet-1200w.jpg 1200w",
      sizes: "100vw",
    },
    desktop: {
      src: "/images/hero-desktop.jpg",
      srcset:
        "/images/hero-desktop-1200w.jpg 1200w, /images/hero-desktop-1600w.jpg 1600w",
      sizes: "100vw",
    },
  };

  return (
    <section className="hero">
      <ArtDirectionImage
        imageSets={heroImageSets}
        alt="íˆì–´ë¡œ ì´ë¯¸ì§€ - ë‹¤ì–‘í•œ ë””ë°”ì´ìŠ¤ì— ìµœì í™”"
        className="hero-image"
      />
      <div className="hero-content">
        <h1>ì•„íŠ¸ ë””ë ‰ì…˜ìœ¼ë¡œ ìµœì í™”ëœ ì´ë¯¸ì§€</h1>
        <p>ê° ë””ë°”ì´ìŠ¤ì— ë§ëŠ” ìµœì ì˜ ì´ë¯¸ì§€ ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
      </div>
    </section>
  );
}

export default HeroSection;
```

## ğŸš€ ê³ ê¸‰ ì•„íŠ¸ ë””ë ‰ì…˜ ê¸°ë²•

### 1. ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ ì•„íŠ¸ ë””ë ‰ì…˜

**ì‚¬ìš©ì í–‰ë™ê³¼ í™˜ê²½ì„ ê³ ë ¤í•œ ì´ë¯¸ì§€ ì„ íƒ**:

```javascript
// utils/contextualArtDirection.js
class ContextualArtDirection {
  constructor() {
    this.context = {
      deviceType: this.detectDeviceType(),
      connectionSpeed: this.detectConnectionSpeed(),
      userPreferences: this.getUserPreferences(),
      timeOfDay: this.getTimeOfDay(),
      location: null,
    };

    this.init();
  }

  async init() {
    await this.detectLocation();
    this.applyContextualImages();
  }

  detectDeviceType() {
    const userAgent = navigator.userAgent;

    if (
      /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent)
    ) {
      return "mobile";
    } else if (/iPad|Android/i.test(userAgent)) {
      return "tablet";
    } else {
      return "desktop";
    }
  }

  detectConnectionSpeed() {
    if ("connection" in navigator) {
      const connection = navigator.connection;

      if (
        connection.effectiveType === "slow-2g" ||
        connection.effectiveType === "2g"
      ) {
        return "slow";
      } else if (connection.effectiveType === "3g") {
        return "medium";
      } else {
        return "fast";
      }
    }

    return "unknown";
  }

  getUserPreferences() {
    // ì‚¬ìš©ì ì„¤ì •ì—ì„œ ì´ë¯¸ì§€ í’ˆì§ˆ ì„ í˜¸ë„ ê°€ì ¸ì˜¤ê¸°
    const savedPreference = localStorage.getItem("imageQualityPreference");
    return savedPreference || "balanced";
  }

  getTimeOfDay() {
    const hour = new Date().getHours();

    if (hour >= 6 && hour < 12) {
      return "morning";
    } else if (hour >= 12 && hour < 18) {
      return "afternoon";
    } else if (hour >= 18 && hour < 22) {
      return "evening";
    } else {
      return "night";
    }
  }

  async detectLocation() {
    if ("geolocation" in navigator) {
      try {
        const position = await new Promise((resolve, reject) => {
          navigator.geolocation.getCurrentPosition(resolve, reject, {
            timeout: 5000,
            enableHighAccuracy: false,
          });
        });

        this.context.location = {
          latitude: position.coords.latitude,
          longitude: position.coords.longitude,
        };
      } catch (error) {
        console.log("ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤:", error);
      }
    }
  }

  getOptimalImageSet(imageSets) {
    const { deviceType, connectionSpeed, userPreferences, timeOfDay } =
      this.context;

    // ì—°ê²° ì†ë„ì— ë”°ë¥¸ ì´ë¯¸ì§€ í’ˆì§ˆ ì¡°ì •
    let quality = "high";
    if (connectionSpeed === "slow") {
      quality = "low";
    } else if (connectionSpeed === "medium") {
      quality = "medium";
    }

    // ì‚¬ìš©ì ì„ í˜¸ë„ ë°˜ì˜
    if (userPreferences === "highQuality") {
      quality = "high";
    } else if (userPreferences === "fastLoading") {
      quality = "low";
    }

    // ì‹œê°„ëŒ€ë³„ ì´ë¯¸ì§€ ì„ íƒ (ì˜ˆ: ì•¼ê°„ ëª¨ë“œ)
    let timeVariant = "";
    if (timeOfDay === "night") {
      timeVariant = "-dark";
    }

    // ë””ë°”ì´ìŠ¤ë³„ ìµœì  ì´ë¯¸ì§€ ì„ íƒ
    const deviceImage = imageSets[deviceType] || imageSets.desktop;

    return {
      ...deviceImage,
      quality,
      timeVariant,
      src: this.adjustImageUrl(deviceImage.src, quality, timeVariant),
    };
  }

  adjustImageUrl(baseUrl, quality, timeVariant) {
    let url = baseUrl;

    // í’ˆì§ˆ ì¡°ì •
    if (quality === "low") {
      url = url.replace(/\.(jpg|png|webp)/, "-low.$1");
    } else if (quality === "medium") {
      url = url.replace(/\.(jpg|png|webp)/, "-medium.$1");
    }

    // ì‹œê°„ëŒ€ë³„ ë³€í˜•
    if (timeVariant) {
      url = url.replace(/\.(jpg|png|webp)/, `${timeVariant}.$1`);
    }

    return url;
  }

  applyContextualImages() {
    const artDirectionElements = document.querySelectorAll(
      "[data-contextual-art-direction]"
    );

    artDirectionElements.forEach((element) => {
      const imageSetName = element.dataset.contextualArtDirection;
      const imageSets = window.imageSets[imageSetName];

      if (imageSets) {
        const optimalImage = this.getOptimalImageSet(imageSets);
        this.updateImage(element, optimalImage);
      }
    });
  }

  updateImage(element, imageConfig) {
    if (element.tagName === "IMG") {
      element.src = imageConfig.src;
      element.className = `contextual-image contextual-${imageConfig.quality}`;
    }
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
const contextualArtDirection = new ContextualArtDirection();

// ì „ì—­ ì´ë¯¸ì§€ ì„¸íŠ¸ ì •ì˜
window.imageSets = {
  hero: {
    mobile: {
      src: "/images/hero-mobile.jpg",
      srcset:
        "/images/hero-mobile-400w.jpg 400w, /images/hero-mobile-800w.jpg 800w",
    },
    tablet: {
      src: "/images/hero-tablet.jpg",
      srcset:
        "/images/hero-tablet-600w.jpg 600w, /images/hero-tablet-1200w.jpg 1200w",
    },
    desktop: {
      src: "/images/hero-desktop.jpg",
      srcset:
        "/images/hero-desktop-1200w.jpg 1200w, /images/hero-desktop-1600w.jpg 1600w",
    },
  },
};
```

### 2. AI ê¸°ë°˜ ì•„íŠ¸ ë””ë ‰ì…˜

**ë¨¸ì‹ ëŸ¬ë‹ì„ í™œìš©í•œ ìë™ ì´ë¯¸ì§€ ìµœì í™”**:

```javascript
// utils/aiArtDirection.js
class AIArtDirection {
  constructor() {
    this.aiModel = null;
    this.imageAnalysisQueue = [];
    this.init();
  }

  async init() {
    try {
      // TensorFlow.js ëª¨ë¸ ë¡œë“œ
      this.aiModel = await tf.loadLayersModel(
        "/models/art-direction-model.json"
      );
      console.log("AI ì•„íŠ¸ ë””ë ‰ì…˜ ëª¨ë¸ ë¡œë“œ ì™„ë£Œ");
    } catch (error) {
      console.error("AI ëª¨ë¸ ë¡œë“œ ì‹¤íŒ¨:", error);
    }
  }

  async analyzeImage(imageElement) {
    if (!this.aiModel) {
      return null;
    }

    try {
      // ì´ë¯¸ì§€ë¥¼ í…ì„œë¡œ ë³€í™˜
      const tensor = tf.browser.fromPixels(imageElement);
      const resized = tf.image.resizeBilinear(tensor, [224, 224]);
      const normalized = resized.div(255.0);
      const batched = normalized.expandDims(0);

      // AI ëª¨ë¸ë¡œ ì´ë¯¸ì§€ ë¶„ì„
      const prediction = await this.aiModel.predict(batched).array();

      // ë©”ëª¨ë¦¬ ì •ë¦¬
      tensor.dispose();
      resized.dispose();
      normalized.dispose();
      batched.dispose();

      return this.interpretPrediction(prediction[0]);
    } catch (error) {
      console.error("ì´ë¯¸ì§€ ë¶„ì„ ì‹¤íŒ¨:", error);
      return null;
    }
  }

  interpretPrediction(prediction) {
    // AI ëª¨ë¸ì˜ ì˜ˆì¸¡ ê²°ê³¼ë¥¼ í•´ì„
    const [composition, focus, style] = prediction;

    return {
      composition: this.getCompositionType(composition),
      focus: this.getFocusArea(focus),
      style: this.getStyleType(style),
      recommendedCrop: this.getRecommendedCrop(composition, focus),
    };
  }

  getCompositionType(value) {
    if (value < 0.33) return "portrait";
    if (value < 0.66) return "landscape";
    return "square";
  }

  getFocusArea(value) {
    if (value < 0.25) return "center";
    if (value < 0.5) return "left";
    if (value < 0.75) return "right";
    return "distributed";
  }

  getStyleType(value) {
    if (value < 0.33) return "minimal";
    if (value < 0.66) return "balanced";
    return "complex";
  }

  getRecommendedCrop(composition, focus) {
    // êµ¬ì„±ê³¼ ì´ˆì ì„ ê¸°ë°˜ìœ¼ë¡œ ê¶Œì¥ í¬ë¡­ ì˜ì—­ ê³„ì‚°
    const crops = {
      portrait: {
        center: { x: 0.2, y: 0.1, width: 0.6, height: 0.8 },
        left: { x: 0.1, y: 0.1, width: 0.6, height: 0.8 },
        right: { x: 0.3, y: 0.1, width: 0.6, height: 0.8 },
      },
      landscape: {
        center: { x: 0.1, y: 0.2, width: 0.8, height: 0.6 },
        left: { x: 0.05, y: 0.2, width: 0.8, height: 0.6 },
        right: { x: 0.15, y: 0.2, width: 0.8, height: 0.6 },
      },
    };

    return crops[composition]?.[focus] || crops.portrait.center;
  }

  async optimizeImageForDevice(imageElement, deviceType, analysis) {
    if (!analysis) {
      return imageElement.src;
    }

    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");

    // ë””ë°”ì´ìŠ¤ë³„ ìµœì  í¬ê¸° ì„¤ì •
    const deviceSizes = {
      mobile: { width: 400, height: 600 },
      tablet: { width: 800, height: 600 },
      desktop: { width: 1200, height: 800 },
    };

    const targetSize = deviceSizes[deviceType];
    canvas.width = targetSize.width;
    canvas.height = targetSize.height;

    // AI ë¶„ì„ ê²°ê³¼ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì´ë¯¸ì§€ í¬ë¡­ ë° ì¡°ì •
    const crop = analysis.recommendedCrop;
    const sourceWidth = imageElement.naturalWidth;
    const sourceHeight = imageElement.naturalHeight;

    const cropX = crop.x * sourceWidth;
    const cropY = crop.y * sourceHeight;
    const cropWidth = crop.width * sourceWidth;
    const cropHeight = crop.height * sourceHeight;

    ctx.drawImage(
      imageElement,
      cropX,
      cropY,
      cropWidth,
      cropHeight,
      0,
      0,
      targetSize.width,
      targetSize.height
    );

    // ìµœì í™”ëœ ì´ë¯¸ì§€ URL ë°˜í™˜
    return canvas.toDataURL("image/webp", 0.8);
  }

  async processImageQueue() {
    while (this.imageAnalysisQueue.length > 0) {
      const { imageElement, deviceType, callback } =
        this.imageAnalysisQueue.shift();

      const analysis = await this.analyzeImage(imageElement);
      const optimizedUrl = await this.optimizeImageForDevice(
        imageElement,
        deviceType,
        analysis
      );

      if (callback) {
        callback(optimizedUrl, analysis);
      }
    }
  }

  queueImageAnalysis(imageElement, deviceType, callback) {
    this.imageAnalysisQueue.push({ imageElement, deviceType, callback });
    this.processImageQueue();
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
const aiArtDirection = new AIArtDirection();

// ì´ë¯¸ì§€ ìµœì í™” ìš”ì²­
document.querySelectorAll("[data-ai-optimize]").forEach((element) => {
  const deviceType = element.dataset.deviceType || "desktop";

  aiArtDirection.queueImageAnalysis(
    element,
    deviceType,
    (optimizedUrl, analysis) => {
      console.log("AI ìµœì í™” ì™„ë£Œ:", analysis);
      element.src = optimizedUrl;
    }
  );
});
```

## ğŸ“Š ì„±ëŠ¥ ì¸¡ì •ê³¼ ìµœì í™”

### 1. ì•„íŠ¸ ë””ë ‰ì…˜ ì„±ëŠ¥ ì¸¡ì •

**ì´ë¯¸ì§€ ì „í™˜ ì„±ëŠ¥ ë¶„ì„**:

```javascript
// utils/artDirectionPerformance.js
export const measureArtDirectionPerformance = () => {
  const metrics = {
    imageSwitchTimes: [],
    layoutShifts: [],
    userExperience: {},
  };

  // ì´ë¯¸ì§€ ì „í™˜ ì‹œê°„ ì¸¡ì •
  const measureImageSwitch = (oldSrc, newSrc) => {
    const startTime = performance.now();

    return new Promise((resolve) => {
      const img = new Image();
      img.onload = () => {
        const switchTime = performance.now() - startTime;
        metrics.imageSwitchTimes.push(switchTime);
        resolve(switchTime);
      };
      img.src = newSrc;
    });
  };

  // ë ˆì´ì•„ì›ƒ ì‹œí”„íŠ¸ ì¸¡ì •
  if ("PerformanceObserver" in window) {
    const observer = new PerformanceObserver((list) => {
      list.getEntries().forEach((entry) => {
        if (entry.entryType === "layout-shift") {
          metrics.layoutShifts.push(entry.value);
        }
      });
    });

    observer.observe({ entryTypes: ["layout-shift"] });
  }

  // ì‚¬ìš©ì ê²½í—˜ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
  const collectUXMetrics = () => {
    metrics.userExperience = {
      viewportWidth: window.innerWidth,
      viewportHeight: window.innerHeight,
      devicePixelRatio: window.devicePixelRatio,
      connectionType: navigator.connection?.effectiveType || "unknown",
    };
  };

  // ì´ˆê¸° ë©”íŠ¸ë¦­ ìˆ˜ì§‘
  collectUXMetrics();

  // ë¦¬ì‚¬ì´ì¦ˆ ì‹œ ë©”íŠ¸ë¦­ ì—…ë°ì´íŠ¸
  window.addEventListener("resize", collectUXMetrics);

  return {
    metrics,
    measureImageSwitch,
    getAverageSwitchTime: () => {
      if (metrics.imageSwitchTimes.length === 0) return 0;
      return (
        metrics.imageSwitchTimes.reduce((a, b) => a + b, 0) /
        metrics.imageSwitchTimes.length
      );
    },
    getLayoutShiftScore: () => {
      if (metrics.layoutShifts.length === 0) return 0;
      return metrics.layoutShifts.reduce((a, b) => a + b, 0);
    },
  };
};
```

### 2. A/B í…ŒìŠ¤íŠ¸ë¥¼ í†µí•œ ê²€ì¦

**ì•„íŠ¸ ë””ë ‰ì…˜ íš¨ê³¼ ê²€ì¦**:

```javascript
// utils/artDirectionABTest.js
export const runArtDirectionABTest = () => {
  const isArtDirectionEnabled = Math.random() < 0.5; // 50% í™•ë¥ 

  const testConfig = {
    variant: isArtDirectionEnabled ? "art-direction" : "standard-responsive",
    startTime: performance.now(),
    metrics: {},
  };

  if (isArtDirectionEnabled) {
    enableArtDirection();
  } else {
    enableStandardResponsive();
  }

  // ì„±ëŠ¥ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
  const collectMetrics = () => {
    if ("PerformanceObserver" in window) {
      const observer = new PerformanceObserver((list) => {
        list.getEntries().forEach((entry) => {
          if (entry.entryType === "largest-contentful-paint") {
            testConfig.metrics.lcp = entry.startTime;
          } else if (entry.entryType === "first-contentful-paint") {
            testConfig.metrics.fcp = entry.startTime;
          }
        });
      });

      observer.observe({
        entryTypes: ["largest-contentful-paint", "first-contentful-paint"],
      });
    }
  };

  // í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ ì‹œ í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì „ì†¡
  window.addEventListener("load", () => {
    testConfig.metrics.loadTime = performance.now() - testConfig.startTime;

    // í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì „ì†¡
    sendABTestResults(testConfig);
  });

  collectMetrics();
  return testConfig.variant;
};

function enableArtDirection() {
  // ì•„íŠ¸ ë””ë ‰ì…˜ í™œì„±í™”
  document.querySelectorAll("[data-art-direction]").forEach((element) => {
    element.style.display = "block";
  });

  // í‘œì¤€ ë°˜ì‘í˜• ì´ë¯¸ì§€ ìˆ¨ê¹€
  document.querySelectorAll("[data-standard-responsive]").forEach((element) => {
    element.style.display = "none";
  });
}

function enableStandardResponsive() {
  // í‘œì¤€ ë°˜ì‘í˜• ì´ë¯¸ì§€ í™œì„±í™”
  document.querySelectorAll("[data-standard-responsive]").forEach((element) => {
    element.style.display = "block";
  });

  // ì•„íŠ¸ ë””ë ‰ì…˜ ì´ë¯¸ì§€ ìˆ¨ê¹€
  document.querySelectorAll("[data-art-direction]").forEach((element) => {
    element.style.display = "none";
  });
}

function sendABTestResults(testConfig) {
  // ë¶„ì„ ì„œë²„ë¡œ í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì „ì†¡
  navigator.sendBeacon("/api/ab-test-results", JSON.stringify(testConfig));
}
```

## âš ï¸ ì£¼ì˜ì‚¬í•­ê³¼ ì œí•œì‚¬í•­

### 1. êµ¬í˜„ ì‹œ ê³ ë ¤ì‚¬í•­

**ì„±ëŠ¥ê³¼ ì‚¬ìš©ì ê²½í—˜ì˜ ê· í˜•**:

- **ì´ë¯¸ì§€ ì „í™˜ ì§€ì—°**: ì•„íŠ¸ ë””ë ‰ì…˜ìœ¼ë¡œ ì¸í•œ ì´ë¯¸ì§€ ì „í™˜ ì§€ì—° ìµœì†Œí™”
- **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**: ì—¬ëŸ¬ ì´ë¯¸ì§€ ì„¸íŠ¸ë¡œ ì¸í•œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê´€ë¦¬
- **ë„¤íŠ¸ì›Œí¬ ë¶€í•˜**: ë¶ˆí•„ìš”í•œ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ë°©ì§€

**ì ‘ê·¼ì„± ê³ ë ¤ì‚¬í•­**:

```html
<!-- ìŠ¤í¬ë¦° ë¦¬ë”ë¥¼ ìœ„í•œ ì ì ˆí•œ ì„¤ëª… -->
<picture>
  <source media="(max-width: 768px)" srcset="hero-mobile.jpg" />
  <source media="(min-width: 769px)" srcset="hero-desktop.jpg" />
  <img
    src="hero-desktop.jpg"
    alt="íˆì–´ë¡œ ì´ë¯¸ì§€ - ëª¨ë°”ì¼ì—ì„œëŠ” ì„¸ë¡œ êµ¬ë„, ë°ìŠ¤í¬í†±ì—ì„œëŠ” ê°€ë¡œ êµ¬ë„ë¡œ ìµœì í™”"
  />
</picture>

<!-- ì•„íŠ¸ ë””ë ‰ì…˜ ë³€ê²½ ì‚¬í•­ ì•ˆë‚´ -->
<div class="art-direction-info" aria-live="polite">
  <span class="sr-only">ì´ë¯¸ì§€ê°€ í™”ë©´ í¬ê¸°ì— ë§ê²Œ ìµœì í™”ë˜ì—ˆìŠµë‹ˆë‹¤.</span>
</div>
```

### 2. ë¸Œë¼ìš°ì € í˜¸í™˜ì„±

**ì§€ì› ë¸Œë¼ìš°ì €**:

- **picture ìš”ì†Œ**: Chrome 38+, Firefox 38+, Safari 9.1+, Edge 12+
- **srcset/sizes**: Chrome 34+, Firefox 38+, Safari 8+, Edge 12+

**í´ë°± ì „ëµ**:

```html
<!-- êµ¬í˜• ë¸Œë¼ìš°ì €ë¥¼ ìœ„í•œ í´ë°± -->
<picture>
  <source srcset="hero.webp" type="image/webp" />
  <source srcset="hero.jpg" type="image/jpeg" />
  <img src="hero.jpg" alt="íˆì–´ë¡œ ì´ë¯¸ì§€" />
</picture>

<!-- JavaScript í´ë°± -->
<script>
  if (!("HTMLPictureElement" in window)) {
    // picture ìš”ì†Œë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²½ìš°
    const pictures = document.querySelectorAll("picture");
    pictures.forEach((picture) => {
      const img = picture.querySelector("img");
      if (img) {
        picture.parentNode.insertBefore(img, picture);
        picture.remove();
      }
    });
  }
</script>
```

## ğŸ¯ ì‹¤ì œ ì ìš© ì‚¬ë¡€

### 1. E-commerce ì‚¬ì´íŠ¸

**ìƒí’ˆ ì´ë¯¸ì§€ ì•„íŠ¸ ë””ë ‰ì…˜**:

```jsx
// components/ProductImage.jsx
import React from "react";

function ProductImage({ product, view = "grid" }) {
  const getImageSets = () => {
    const baseUrl = product.imageBaseUrl;

    return {
      mobile: {
        src: `${baseUrl}-mobile.jpg`,
        srcset: `${baseUrl}-mobile-400w.jpg 400w, ${baseUrl}-mobile-800w.jpg 800w`,
        sizes: view === "grid" ? "50vw" : "100vw",
      },
      tablet: {
        src: `${baseUrl}-tablet.jpg`,
        srcset: `${baseUrl}-tablet-600w.jpg 600w, ${baseUrl}-tablet-1200w.jpg 1200w`,
        sizes: view === "grid" ? "33vw" : "100vw",
      },
      desktop: {
        src: `${baseUrl}-desktop.jpg`,
        srcset: `${baseUrl}-desktop-800w.jpg 800w, ${baseUrl}-desktop-1200w.jpg 1200w`,
        sizes: view === "grid" ? "25vw" : "100vw",
      },
    };
  };

  const imageSets = getImageSets();

  return (
    <picture className={`product-image product-image-${view}`}>
      <source
        media="(max-width: 768px)"
        srcSet={imageSets.mobile.srcset}
        sizes={imageSets.mobile.sizes}
      />
      <source
        media="(max-width: 1024px)"
        srcSet={imageSets.tablet.srcset}
        sizes={imageSets.tablet.sizes}
      />
      <img
        src={imageSets.desktop.src}
        srcSet={imageSets.desktop.srcset}
        sizes={imageSets.desktop.sizes}
        alt={product.name}
        loading="lazy"
      />
    </picture>
  );
}

export default ProductImage;
```

### 2. ë‰´ìŠ¤/ë¸”ë¡œê·¸ ì‚¬ì´íŠ¸

**ê¸°ì‚¬ ì¸ë„¤ì¼ ì•„íŠ¸ ë””ë ‰ì…˜**:

```jsx
// components/ArticleThumbnail.jsx
import React from "react";

function ArticleThumbnail({ article, layout = "list" }) {
  const getThumbnailSets = () => {
    const baseUrl = article.thumbnailBaseUrl;

    return {
      mobile: {
        src: `${baseUrl}-mobile.jpg`,
        srcset: `${baseUrl}-mobile-300w.jpg 300w, ${baseUrl}-mobile-600w.jpg 600w`,
        sizes: layout === "grid" ? "100vw" : "100vw",
      },
      tablet: {
        src: `${baseUrl}-tablet.jpg`,
        srcset: `${baseUrl}-tablet-400w.jpg 400w, ${baseUrl}-tablet-800w.jpg 800w`,
        sizes: layout === "grid" ? "50vw" : "100vw",
      },
      desktop: {
        src: `${baseUrl}-desktop.jpg`,
        srcset: `${baseUrl}-desktop-600w.jpg 600w, ${baseUrl}-desktop-1200w.jpg 1200w`,
        sizes: layout === "grid" ? "33vw" : "100vw",
      },
    };
  };

  const thumbnailSets = getThumbnailSets();

  return (
    <div className={`article-thumbnail article-thumbnail-${layout}`}>
      <picture>
        <source
          media="(max-width: 768px)"
          srcSet={thumbnailSets.mobile.srcset}
          sizes={thumbnailSets.mobile.sizes}
        />
        <source
          media="(max-width: 1024px)"
          srcSet={thumbnailSets.tablet.srcset}
          sizes={thumbnailSets.tablet.sizes}
        />
        <img
          src={thumbnailSets.desktop.src}
          srcSet={thumbnailSets.desktop.srcset}
          sizes={thumbnailSets.desktop.sizes}
          alt={article.title}
          loading="lazy"
        />
      </picture>
    </div>
  );
}

export default ArticleThumbnail;
```

## ğŸ“š ê²°ë¡ 

ì•„íŠ¸ ë””ë ‰ì…˜ì€ ë‹¨ìˆœí•œ ì´ë¯¸ì§€ í¬ê¸° ì¡°ì •ì„ ë„˜ì–´ì„œ, ê° ë””ë°”ì´ìŠ¤ì™€ ì‚¬ìš©ì ìƒí™©ì— ìµœì í™”ëœ ì‹œê°ì  ê²½í—˜ì„ ì œê³µí•˜ëŠ” ê³ ê¸‰ ì›¹ ìµœì í™” ê¸°ë²•ì…ë‹ˆë‹¤.

**ì„±ê³µì ì¸ ì•„íŠ¸ ë””ë ‰ì…˜ êµ¬í˜„ì„ ìœ„í•œ ì²´í¬ë¦¬ìŠ¤íŠ¸**:

- [ ] ë””ë°”ì´ìŠ¤ë³„ ì´ë¯¸ì§€ êµ¬ë„ ìµœì í™”
- [ ] HTML picture ìš”ì†Œ í™œìš©
- [ ] CSS ë¯¸ë””ì–´ ì¿¼ë¦¬ì™€ JavaScript ë™ì  ì „í™˜
- [ ] ì„±ëŠ¥ ì¸¡ì • ë° ëª¨ë‹ˆí„°ë§
- [ ] ì ‘ê·¼ì„± ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜
- [ ] ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ë° í´ë°± ì „ëµ

**ì•„íŠ¸ ë””ë ‰ì…˜ì˜ íš¨ê³¼**:

- **ì‚¬ìš©ì ê²½í—˜**: ëª¨ë“  ë””ë°”ì´ìŠ¤ì—ì„œ ì¼ê´€ëœ ì‹œê°ì  ì„íŒ©íŠ¸
- **ì„±ëŠ¥**: ë””ë°”ì´ìŠ¤ë³„ ìµœì í™”ëœ ì´ë¯¸ì§€ë¡œ ë¡œë”© ì‹œê°„ ë‹¨ì¶•
- **ë¸Œëœë“œ ì¼ê´€ì„±**: ë‹¤ì–‘í•œ í™”ë©´ì—ì„œë„ ë¸Œëœë“œ ì´ë¯¸ì§€ ìœ ì§€
- **ì ‘ê·¼ì„±**: ì‘ì€ í™”ë©´ì—ì„œë„ ì¤‘ìš”í•œ ì½˜í…ì¸  ê°€ë…ì„± í–¥ìƒ

ì ì ˆí•œ ì•„íŠ¸ ë””ë ‰ì…˜ì„ í†µí•´ ì›¹ì‚¬ì´íŠ¸ì˜ ì‹œê°ì  í’ˆì§ˆì„ í¬ê²Œ í–¥ìƒì‹œí‚¤ê³ , ëª¨ë“  ë””ë°”ì´ìŠ¤ì—ì„œ ìµœì ì˜ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
