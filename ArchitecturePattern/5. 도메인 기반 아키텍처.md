# 도메인 기반 아키텍처 (Domain-based Architecture)

도메인 기반 아키텍처는 **도메인 주도 설계(Domain-Driven Design, DDD)** 의 원칙을 따르는 아키텍처를 의미합니다.

DDD는 소프트웨어의 코드가 실제 비즈니스 도메인의 모델과 정확하게 일치해야 합니다. 예를 들어, 온라인 상점의 비즈니스 도메인에는 '주문(Order)', '상품(Product)', '고객(Customer)'과 같은 개념이 있는데, DDD에서는 이 개념들이 소프트웨어 코드의 클래스나 객체로 직접 표현되어야 합니다.

이 아키텍처는 기술적 관심사(예: 웹, 데이터베이스)보다는 비즈니스 로직과 개념을 더 중요하게 생각합니다. 따라서 프로젝트 구조는 비즈니스 도메인(예: 주문, 결제, 상품)에 따라 모듈을 분리하고, 각 모듈이 해당 도메인의 모든 관련 로직을 캡슐화하는 형태를 가집니다.

## 프로젝트 구조 원칙

- **도메인 중심 분리**: 시스템을 여러 비즈니스 도메인으로 나눕니다. 각 도메인은 독립적인 기능을 수행하는 자율적인 모듈이 됩니다.
- **도메인 캡슐화**: 각 도메인 모듈은 자신의 비즈니스 로직, 데이터 모델, 그리고 관련된 기술적 구현체(예: 컨트롤러, 리포지토리)를 모두 내부에 포함합니다.
- **의존성 최소화**: 도메인 간의 의존성을 최소화하고, 명확한 인터페이스를 통해서만 소통합니다.

## 폴더 구조 예시

다음은 도메인 기반 아키텍처를 적용한 프로젝트의 일반적인 폴더 구조입니다. 이 구조는 Spring Boot와 같은 프레임워크에서 자주 사용됩니다.

```
/project
├── /src
│   ├── /main
│   │   ├── /java
│   │   │   └── /com/example/app
│   │   │       ├── /order          # 주문 도메인
│   │   │       │   ├── /controller
│   │   │       │   │   └── OrderController.java
│   │   │       │   ├── /service
│   │   │       │   │   └── OrderService.java
│   │   │       │   ├── /repository
│   │   │       │   │   └── OrderRepository.java
│   │   │       │   └── /model
│   │   │       │       └── Order.java
│   │   │       │       └── OrderItem.java
│   │   │       │
│   │   │       ├── /payment        # 결제 도메인
│   │   │       │   ├── /controller
│   │   │       │   │   └── PaymentController.java
│   │   │       │   ├── /service
│   │   │       │   │   └── PaymentService.java
│   │   │       │   └── /model
│   │   │       │       └── Payment.java
│   │   │       │
│   │   │       ├── /product        # 상품 도메인
│   │   │       │   ├── /controller
│   │   │       │   │   └── ProductController.java
│   │   │       │   ├── /service
│   │   │       │   │   └── ProductService.java
│   │   │       │   └── /model
│   │   │       │       └── Product.java
│   │   │       │
│   │   │       └── /shared         # 도메인 간 공유되는 공통 모듈 (DTO 등)
│   │   │           └── /dto
│   │   │               └── OrderRequest.java
│   │   │               └── PaymentStatus.java
│   │   └── /resources
│   │       └── application.properties
│   └── /test
│       └── ...
├── pom.xml
└── Dockerfile
```

## 마이크로서비스 아키텍처와 뭔 차인데? 🤔

도메인 기반 아키텍처와 마이크로서비스 아키텍처는 둘 다 복잡한 시스템을 다루기 위한 접근 방식이지만, 목표와 중점이 다릅니다. 간단히 말해, **도메인 기반 아키텍처는 설계 원칙**에 가깝고, **마이크로서비스 아키텍처는 구현 방식**에 가깝습니다.

---

### **도메인 기반 아키텍처 (Domain-based Architecture)**

도메인 기반 아키텍처는 **비즈니스 도메인(business domain)**을 중심으로 애플리케이션의 구조를 잡는 설계 원칙입니다. 기술적인 레이어(예: UI, 비즈니스 로직, 데이터)로 나누는 대신, **주문, 결제, 상품**과 같은 비즈니스 영역을 기준으로 코드를 묶습니다.

- **핵심** : 비즈니스 로직의 복잡성을 관리하고, 개발자와 현업 전문가 간의 소통을 원활하게 합니다.
- **구조** : 일반적으로 하나의 모놀리식 애플리케이션 내에서 폴더나 모듈을 도메인별로 분리하는 형태로 구현됩니다. 배포는 여전히 단일 프로세스로 이루어집니다.

---

### **마이크로서비스 아키텍처 (Microservices Architecture)**

마이크로서비스 아키텍처는 애플리케이션을 작고, 독립적인 서비스들로 나누어 **개발 및 배포**하는 방식입니다. 각 서비스는 자체 데이터베이스를 가지며, 독립적인 팀이 개발하고 배포할 수 있습니다.

- **핵심** : 각 서비스의 **독립적인 배포와 확장성**을 확보하여, 전체 시스템의 유연성과 안정성을 높입니다.
- **구조** : 물리적으로 분리된 여러 개의 서비스로 구성되며, 이 서비스들은 API(주로 REST)나 메시지 큐 등을 통해 통신합니다.
