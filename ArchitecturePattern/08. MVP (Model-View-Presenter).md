# MVP (Model-View-Presenter)

## ğŸ“– ê°œìš”

**MVP(Model-View-Presenter)**ëŠ” **í”„ë ˆì  í„°(Presenter)**ê°€ ë·°ì™€ ëª¨ë¸ ì‚¬ì´ì˜ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤. ë·°ëŠ” í”„ë ˆì  í„°ì— ì¢…ì†ë˜ì–´ ìˆê³ , í”„ë ˆì  í„°ëŠ” ë·°ì˜ ìƒíƒœë¥¼ ì œì–´í•©ë‹ˆë‹¤. ì´ íŒ¨í„´ì€ ëª¨ë°”ì¼ ì•±ê³¼ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë§ì´ ì‚¬ìš©ë˜ë©°, í…ŒìŠ¤íŠ¸ ìš©ì´ì„±ê³¼ ê´€ì‹¬ì‚¬ ë¶„ë¦¬ë¥¼ í†µí•´ ì½”ë“œì˜ ìœ ì§€ë³´ìˆ˜ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.

## ğŸ—ï¸ MVPì˜ ë“±ì¥ ë°°ê²½

### 1. MVC íŒ¨í„´ì˜ í•œê³„ì 

**ì „í†µì ì¸ MVCì˜ ë¬¸ì œ**:

- **Viewì™€ Modelì˜ ì§ì ‘ì  ê´€ê³„**: Viewê°€ Modelì„ ì§ì ‘ ê´€ì°°í•˜ì—¬ ê°•í•œ ê²°í•© ë°œìƒ
- **Controllerì˜ ì—­í•  ëª¨í˜¸ì„±**: UI ë¡œì§ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ê²½ê³„ê°€ ë¶ˆë¶„ëª…
- **í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€**: Viewì™€ Controllerê°€ UI í”„ë ˆì„ì›Œí¬ì— ê°•í•˜ê²Œ ì˜ì¡´
- **í”Œë«í¼ë³„ êµ¬í˜„ ì°¨ì´**: ì›¹ê³¼ ë°ìŠ¤í¬í†±ì—ì„œ MVC í•´ì„ì´ ë‹¬ë¼ì§

### 2. GUI ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë³µì¡ì„± ì¦ê°€

**1990ë…„ëŒ€ ë°ìŠ¤í¬í†± ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë°œì „**:

- **Windows Formsì™€ WinAPI**: ë³µì¡í•œ ì´ë²¤íŠ¸ ê¸°ë°˜ í”„ë¡œê·¸ë˜ë°
- **ì‚¬ìš©ì ì¸í„°ë™ì…˜ ì¦ê°€**: ë§ˆìš°ìŠ¤, í‚¤ë³´ë“œ, ë‹¤ì–‘í•œ ì…ë ¥ ë°©ì‹ ì§€ì›
- **ì‹¤ì‹œê°„ UI ì—…ë°ì´íŠ¸**: ë°ì´í„° ë³€ê²½ì— ë”°ë¥¸ ì¦‰ê°ì ì¸ í™”ë©´ ë°˜ì˜ í•„ìš”
- **ìƒíƒœ ê´€ë¦¬ ë³µì¡ì„±**: ë‹¤ì¤‘ ì°½ê³¼ ë‹¤ì–‘í•œ UI ì»´í¬ë„ŒíŠ¸ ê°„ ìƒíƒœ ë™ê¸°í™”

### 3. MVPì˜ íƒ„ìƒê³¼ ì§„í™”

**Microsoftì˜ ê¸°ì—¬ (1990ë…„ëŒ€)**:

- **Taligentì˜ MVP**: IBMê³¼ Appleì˜ í˜‘ì—…ìœ¼ë¡œ ì‹œì‘ëœ ê°ì²´ì§€í–¥ OS í”„ë¡œì íŠ¸
- **Microsoft MFC**: C++ë¥¼ ìœ„í•œ Document/View ì•„í‚¤í…ì²˜ì—ì„œ MVP ê°œë… ë„ì…
- **ASP.NET Web Forms**: ì›¹ ê°œë°œì—ì„œ MVP íŒ¨í„´ì˜ êµ¬ì²´ì  êµ¬í˜„

### 4. ëª¨ë°”ì¼ê³¼ ì›¹ì˜ í˜„ëŒ€ì  ì ìš©

**ëª¨ë°”ì¼ ì•± ê°œë°œì˜ ìš”êµ¬ì‚¬í•­**:

- **í”Œë«í¼ë³„ UI ì°¨ì´**: iOS, Androidì˜ ì„œë¡œ ë‹¤ë¥¸ UI ê°€ì´ë“œë¼ì¸
- **ìƒëª…ì£¼ê¸° ê´€ë¦¬**: ì•¡í‹°ë¹„í‹°ì™€ í”„ë˜ê·¸ë¨¼íŠ¸ì˜ ë³µì¡í•œ ìƒëª…ì£¼ê¸°
- **ë©”ëª¨ë¦¬ ì œì•½**: ì œí•œëœ ë¦¬ì†ŒìŠ¤ì—ì„œì˜ íš¨ìœ¨ì  ë©”ëª¨ë¦¬ ì‚¬ìš©
- **í…ŒìŠ¤íŠ¸ ìë™í™”**: ì§€ì†ì  í†µí•©ì„ ìœ„í•œ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ í•„ìš”

**í˜„ëŒ€ ì›¹ ê°œë°œì—ì„œì˜ MVP**:

- **SPA(Single Page Application)**: ë³µì¡í•œ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¡œì§ ê´€ë¦¬
- **ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ê°œë°œ**: React, Angularì—ì„œì˜ ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜
- **ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬**: Redux, MobXì™€ì˜ ì¡°í•©ì„ í†µí•œ MVP êµ¬í˜„

## ğŸ—ï¸ MVP ì•„í‚¤í…ì²˜ êµ¬ì¡°

### í•µì‹¬ êµ¬ì„± ìš”ì†Œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    View     â”‚â—„â”€â”€â–ºâ”‚   Presenter     â”‚â—„â”€â”€â–ºâ”‚    Model    â”‚
â”‚  (UI)      â”‚    â”‚  (ë¡œì§ ì²˜ë¦¬)     â”‚    â”‚  (ë°ì´í„°)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1. Model (ëª¨ë¸)

- **ë°ì´í„° êµ¬ì¡°**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ë°ì´í„°ë¥¼ ë‹´ë‹¹
- **API í†µì‹ **: ì„œë²„ì™€ì˜ ë°ì´í„° êµí™˜
- **ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™**: ë„ë©”ì¸ ë¡œì§ê³¼ ìœ íš¨ì„± ê²€ì‚¬
- **ìƒíƒœ ê´€ë¦¬**: ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœ ì •ë³´ ê´€ë¦¬

### 2. View (ë·°)

- **UI í‘œí˜„**: ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì§€ëŠ” ì¸í„°í˜ì´ìŠ¤
- **ì‚¬ìš©ì ì…ë ¥**: ì‚¬ìš©ìì˜ ì•¡ì…˜ì„ í”„ë ˆì  í„°ì— ì „ë‹¬
- **í”„ë ˆì  í„° ì˜ì¡´**: í”„ë ˆì  í„°ì˜ ì§€ì‹œì— ë”°ë¼ UI ì—…ë°ì´íŠ¸
- **ìƒíƒœ í‘œì‹œ**: í”„ë ˆì  í„°ì—ì„œ ì „ë‹¬ë°›ì€ ë°ì´í„°ë¥¼ í‘œì‹œ

### 3. Presenter (í”„ë ˆì  í„°)

- **ë¡œì§ ì²˜ë¦¬**: ì‚¬ìš©ì ì•¡ì…˜ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬
- **ë·° ì œì–´**: ë·°ì˜ ìƒíƒœì™€ ë™ì‘ì„ ì œì–´
- **ëª¨ë¸ ì¡°ì‘**: ëª¨ë¸ì˜ ë°ì´í„°ë¥¼ ì¡°ì‘í•˜ê³  ì—…ë°ì´íŠ¸
- **ë°ì´í„° ë³€í™˜**: ëª¨ë¸ì˜ ë°ì´í„°ë¥¼ ë·°ì— ë§ê²Œ ê°€ê³µ

## ğŸ” Reactì—ì„œì˜ MVP êµ¬í˜„

### 1. Model Layer

```typescript
// src/models/User.ts
export interface User {
  id: string;
  name: string;
  email: string;
  role: "user" | "admin";
}

export interface CreateUserDto {
  name: string;
  email: string;
  password: string;
  role: "user" | "admin";
}

// src/models/UserRepository.ts
export class UserRepository {
  private apiUrl = "/api/users";

  async getUsers(): Promise<User[]> {
    const response = await fetch(this.apiUrl);
    if (!response.ok) {
      throw new Error("ì‚¬ìš©ì ëª©ë¡ì„ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    }
    return response.json();
  }

  async createUser(userData: CreateUserDto): Promise<User> {
    const response = await fetch(this.apiUrl, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(userData),
    });
    if (!response.ok) {
      throw new Error("ì‚¬ìš©ì ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
    }
    return response.json();
  }
}
```

### 2. Presenter Layer

```typescript
// src/presenters/UserPresenter.ts
export class UserPresenter {
  private view: UserView;
  private repository: UserRepository;
  private state: UserViewState;

  constructor(view: UserView, repository: UserRepository) {
    this.view = view;
    this.repository = repository;
    this.state = this.getInitialState();
    this.updateView();
  }

  // ì‚¬ìš©ì ëª©ë¡ ë¡œë“œ
  async loadUsers(): Promise<void> {
    try {
      this.setState({ loading: true, error: null });

      const users = await this.repository.getUsers();
      this.setState({ users, loading: false });
    } catch (error) {
      const errorMessage =
        error instanceof Error
          ? error.message
          : "ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.";
      this.setState({ error: errorMessage, loading: false });
    }
  }

  // ì‚¬ìš©ì ìƒì„±
  async createUser(): Promise<void> {
    try {
      this.setState({ loading: true, error: null });

      const newUser = await this.repository.createUser(this.state.formData);
      const updatedUsers = [...this.state.users, newUser];

      this.setState({
        users: updatedUsers,
        loading: false,
        formData: this.getInitialState().formData,
      });

      this.view.showSuccessMessage("ì‚¬ìš©ìê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.");
    } catch (error) {
      const errorMessage =
        error instanceof Error ? error.message : "ì‚¬ìš©ì ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.";
      this.setState({ error: errorMessage, loading: false });
      this.view.showErrorMessage(errorMessage);
    }
  }

  // ìƒíƒœ ì—…ë°ì´íŠ¸ ë° ë·° ê°±ì‹ 
  private setState(updates: Partial<UserViewState>): void {
    this.state = { ...this.state, ...updates };
    this.updateView();
  }

  private updateView(): void {
    this.view.updateState(this.state);
  }
}
```

### 3. View Layer

```typescript
// src/views/UserView.ts
export class UserView extends React.Component<{}, UserViewState> {
  private presenter: UserPresenter;
  private repository: UserRepository;

  constructor(props: {}) {
    super(props);

    this.repository = new UserRepository();
    this.presenter = new UserPresenter(this, this.repository);

    this.state = this.presenter.getState();
  }

  componentDidMount(): void {
    this.presenter.loadUsers();
  }

  // í”„ë ˆì  í„°ì—ì„œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œë“¤
  updateState(newState: UserViewState): void {
    this.setState(newState);
  }

  showSuccessMessage(message: string): void {
    console.log("Success:", message);
  }

  showErrorMessage(message: string): void {
    console.error("Error:", message);
  }

  // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë“¤
  handleCreateUser = (): void => {
    this.presenter.createUser();
  };

  render(): JSX.Element {
    const { users, loading, error } = this.state;

    if (loading) return <div className="loading">ë¡œë”© ì¤‘...</div>;
    if (error) return <div className="error">ì˜¤ë¥˜: {error}</div>;

    return (
      <div className="user-view">
        <h1>ì‚¬ìš©ì ê´€ë¦¬</h1>
        <UserList users={users} />
        <UserForm onSubmit={this.handleCreateUser} />
      </div>
    );
  }
}

// src/components/UserList.tsx
export const UserList: React.FC<UserListProps> = ({
  users,
  selectedUser,
  onUserSelect,
  onDeleteUser,
}) => {
  return (
    <div className="user-list">
      <h2>ì‚¬ìš©ì ëª©ë¡</h2>
      <div className="user-list__items">
        {users.map((user) => (
          <div
            key={user.id}
            className={`user-list__item ${
              selectedUser?.id === user.id ? "selected" : ""
            }`}
            onClick={() => onUserSelect(user)}
          >
            <div className="user-list__item-name">{user.name}</div>
            <div className="user-list__item-email">{user.email}</div>
            <button
              onClick={(e) => {
                e.stopPropagation();
                onDeleteUser(user.id);
              }}
            >
              ì‚­ì œ
            </button>
          </div>
        ))}
      </div>
    </div>
  );
};
```

## ğŸ¯ MVPì˜ ì¥ì 

### 1. ê´€ì‹¬ì‚¬ ë¶„ë¦¬

- **Model**: ë°ì´í„°ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- **View**: UI í‘œí˜„
- **Presenter**: ë¡œì§ ì²˜ë¦¬ì™€ ë·° ì œì–´

### 2. í…ŒìŠ¤íŠ¸ ìš©ì´ì„±

- Presenterë¥¼ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
- Mock Viewë¥¼ ì‚¬ìš©í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± ìš©ì´

### 3. ë·°ì˜ ë…ë¦½ì„±

- ë·°ê°€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
- í”„ë ˆì  í„°ë¥¼ í†µí•œ ì¼ê´€ëœ ì¸í„°í˜ì´ìŠ¤ ì œê³µ

### 4. ìœ ì§€ë³´ìˆ˜ì„±

- ê° ê³„ì¸µì˜ ë…ë¦½ì ì¸ ìˆ˜ì • ê°€ëŠ¥
- ë³€ê²½ ì‚¬í•­ì˜ ì˜í–¥ ë²”ìœ„ ìµœì†Œí™”

## âš ï¸ ì£¼ì˜ì‚¬í•­

### 1. í”„ë ˆì  í„°ì˜ ë³µì¡ì„±

- í”„ë ˆì  í„°ê°€ ë„ˆë¬´ ë³µì¡í•´ì§€ë©´ ì˜¤íˆë ¤ ìœ ì§€ë³´ìˆ˜ì„± ì €í•˜
- ì ì ˆí•œ í¬ê¸°ì™€ ì±…ì„ ë¶„ë¦¬ ìœ ì§€

### 2. ë·°ì™€ í”„ë ˆì  í„°ì˜ ê²°í•©

- ë·°ê°€ í”„ë ˆì  í„°ì— ê³¼ë„í•˜ê²Œ ì˜ì¡´í•˜ì§€ ì•Šë„ë¡ ì£¼ì˜
- ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•œ ëŠìŠ¨í•œ ê²°í•© ìœ ì§€

### 3. ìƒíƒœ ê´€ë¦¬ ë³µì¡ì„±

- ëŒ€ê·œëª¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê³ ë ¤
- Redux, Zustand, Context API ë“± í™œìš©

## ğŸš€ ê³ ê¸‰ íŒ¨í„´

### 1. Passive View Pattern

```typescript
// ë·°ê°€ ì™„ì „íˆ ìˆ˜ë™ì ì´ ë˜ë„ë¡ í•˜ëŠ” íŒ¨í„´
export interface PassiveUserView {
  updateUsers(users: User[]): void;
  updateSelectedUser(user: User | null): void;
  updateLoading(loading: boolean): void;
  updateError(error: string | null): void;
  showSuccessMessage(message: string): void;
  showErrorMessage(message: string): void;
}
```

### 2. Supervising Controller Pattern

```typescript
// í”„ë ˆì  í„°ê°€ ë·°ì˜ ë™ì‘ì„ ê°ë…í•˜ëŠ” íŒ¨í„´
export class SupervisingUserPresenter {
  private view: UserView;
  private repository: UserRepository;

  constructor(view: UserView, repository: UserRepository) {
    this.view = view;
    this.repository = repository;
    this.setupViewBindings();
  }

  private setupViewBindings(): void {
    // ë·°ì˜ ì´ë²¤íŠ¸ë¥¼ í”„ë ˆì  í„°ì— ë°”ì¸ë”©
    this.view.onUserSelect = this.handleUserSelect.bind(this);
    this.view.onCreateUser = this.handleCreateUser.bind(this);
  }
}
```

## ğŸ“š ê²°ë¡ 

MVPëŠ” í˜„ëŒ€ì ì¸ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì—ì„œ ê°•ë ¥í•œ ì•„í‚¤í…ì²˜ íŒ¨í„´ì…ë‹ˆë‹¤.

ì ì ˆíˆ ì ìš©í•˜ë©´:

- **ëª…í™•í•œ ê´€ì‹¬ì‚¬ ë¶„ë¦¬**ë¡œ ì½”ë“œì˜ ê°€ë…ì„± í–¥ìƒ
- **ë†’ì€ í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**ìœ¼ë¡œ ì½”ë“œ í’ˆì§ˆ í–¥ìƒ
- **ë·°ì˜ ë…ë¦½ì„±**ìœ¼ë¡œ UI ë³€ê²½ì˜ ìš©ì´ì„± ì¦ëŒ€
- **ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ**ìœ¼ë¡œ ì¥ê¸°ì ì¸ í”„ë¡œì íŠ¸ ê´€ë¦¬ ìš©ì´

í”„ë¡œì íŠ¸ì˜ ê·œëª¨ì™€ ë³µì¡ì„±ì„ ê³ ë ¤í•˜ì—¬ MVPë¥¼ ì ìš©í•˜ì—¬ íš¨ìœ¨ì ì¸ í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜ë¥¼ êµ¬ì¶•í•˜ì„¸ìš”.
